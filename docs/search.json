[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Analysis of Ecological Data",
    "section": "",
    "text": "Welcome\nLandscape Ecology with R"
  },
  {
    "objectID": "index.html#target-audience",
    "href": "index.html#target-audience",
    "title": "Analysis of Ecological Data",
    "section": "Target audience",
    "text": "Target audience\n\nYou want answers to questions (in landscape ecology)!\nPrimarily ecologists but the methods and skills are useful in many fields.\nNo R knowledge is required (or other programming skills)\nIt is helpful if you know what a spreadsheet is\nMinimum amount of statistic needed (course explains all the necessary stuff)"
  },
  {
    "objectID": "index.html#aims-of-this-course",
    "href": "index.html#aims-of-this-course",
    "title": "Analysis of Ecological Data",
    "section": "Aims of this course",
    "text": "Aims of this course\n\nDeveloping ideas, answering questions\nDefining steps how to solve a problem\nTranslating these steps into R code\nLearning the necessary R language on the way\nData handling. A lot of data handling.\nI believe a good understanding of data is one of the most important things in science and work.\nLearn statistics. Use statistics as a tool."
  },
  {
    "objectID": "index.html#what-this-course-is-not",
    "href": "index.html#what-this-course-is-not",
    "title": "Analysis of Ecological Data",
    "section": "What this course is not",
    "text": "What this course is not\n\nstatistics as in mathematical equations\n\n\\[\n\\left( {\\begin{array}{*{20}c}\n   n  \\\\\n   k  \\\\\n\\end{array}} \\right) = \\frac{{n!}}{{k!\\left( {n - k} \\right)!}}\n\\]\n\\[\n\\sigma ^2  = \\mu _2  = \\sum {\\left( {x - \\mu _1 } \\right)^2 P\\left( x \\right)}\n\\]\n\nR as in computer science\nYou probably won’t find out anything you didn’t already know about nature"
  },
  {
    "objectID": "index.html#course-outline",
    "href": "index.html#course-outline",
    "title": "Analysis of Ecological Data",
    "section": "Course Outline",
    "text": "Course Outline\n\nSummary and Exercises from last week\nNew Input\nExercises\nStudienleistung: 10 assignments - Passed with 6 assignments &gt; 50%\n\n\n\n\nCourse Outline\n\n\n\n\n\n\nDate\nContent\n\n\n\n\n06.04.\nOrganization - Topic Overview - What is R? - What is ecological data?\n\n\n13.04.\nR foundations I - functions - vectors - data.frames\n\n\n20.04.\nR foundations II - R Projects - data.frames\n\n\n27.04.\nAasee water monitoring - tidyverse - strings\n\n\n04.05.\nAasee water monitoring - correlations\n\n\n11.05.\nAasee water monitoring - linear models\n\n\n18.05.\n—- Feiertag —-\n\n\n25.05.\nBuffer\n\n\n02.06.\n—- Pfingstferien —-\n\n\n08.06.\n—- Feiertag —-\n\n\n15.06.\nBiodiversity Data\n\n\n22.06.\nBiodiversity Data\n\n\n29.06.\nVisualizations - ggplot\n\n\n06.07.\nVisualizations - ggplot\n\n\n13.07.\nWrap up"
  },
  {
    "objectID": "D01_data_examples.html#plot-surveys",
    "href": "D01_data_examples.html#plot-surveys",
    "title": "D01: Ecological data",
    "section": "Plot surveys",
    "text": "Plot surveys\n\nplots with ID and surveyed environmental information\nbread and butter of ecology\n\n\n\n\nField survery data on a plot level\n\n\nplotID\nsoil_ph\nsoil_temperature\nforest_type\n\n\n\n\nP1\n5.5\n10\nconiferous\n\n\nP2\n5.4\n11\nconiferous\n\n\nP3\n6.1\n12\ndeciduous"
  },
  {
    "objectID": "D01_data_examples.html#time-series",
    "href": "D01_data_examples.html#time-series",
    "title": "D01: Ecological data",
    "section": "Time Series",
    "text": "Time Series\n\n\n\n\n\nVisualization of time series data\n\n\n\n\n\ncontinuous measurements\nmeasurement interval flexible\nmainly climate, soil, remote sensing\n\n\n\n\nTime series data: Aasee sensor measurements\n\n\ndate\ntemperature\nph\no2\n\n\n\n\n2021-06-01\n18.06\n8.12\n11.06\n\n\n2021-06-01\n18.08\n8.10\n10.62\n\n\n2021-06-01\n17.93\n8.15\n11.20\n\n\n2021-06-01\n17.78\n8.19\n11.92\n\n\n2021-06-01\n17.79\n8.13\n11.39"
  },
  {
    "objectID": "D01_data_examples.html#species-lists",
    "href": "D01_data_examples.html#species-lists",
    "title": "D01: Ecological data",
    "section": "Species Lists",
    "text": "Species Lists\n\nmostly plot based\nmonitoring of conservation sites\nbiodiversity assessment\n\n\n\n\nSpecies Lists: Occurence on a plot\n\n\nspecies\nn\n\n\n\n\nDigitalis purpurea\n4\n\n\nGalium odoratum\n25\n\n\nFagus Sylvatica\n20\n\n\n…\n…\n\n\n\n\n\n\nWhat are the differences between the plot based survey example and the species list example?"
  },
  {
    "objectID": "D01_data_examples.html#geospatial-data",
    "href": "D01_data_examples.html#geospatial-data",
    "title": "D01: Ecological data",
    "section": "Geospatial Data",
    "text": "Geospatial Data\n\ndefined by explicit location on the earth surface\ninformation attached to coordinates\n\n\n\n\nGeospatial Data: Tree locations\n\n\n\n\n\n\n\n\n\n\ntree_id\neasting\nnorthing\nspecies_code\ndbh\ngeom\n\n\n\n\nr00430\n477422.4\n5631970\nBUR\n0.12\nPOINT (477422.4 5631970)\n\n\nr01106\n477411.7\n5631946\nBUR\n0.68\nPOINT (477411.7 5631946)\n\n\nb00818\n477796.0\n5632316\nBUR\n0.23\nPOINT (477796 5632316)\n\n\nr00170\n477816.9\n5632201\nEIT\n0.59\nPOINT (477816.9 5632201)\n\n\nr00334\n477737.2\n5632250\nERS\n0.68\nPOINT (477737.2 5632250)"
  },
  {
    "objectID": "D01_data_examples.html#want-more",
    "href": "D01_data_examples.html#want-more",
    "title": "D01: Ecological data",
    "section": "Want more?",
    "text": "Want more?\n\n\n\nTurner (2014) : Sensing Biodiversity\n\n\n\nAnimal movement data\nLab / Field experiments\nIndividuum based information (e.g. traits)\nCamera Traps\nSocio-Economic data (also useful for landscape ecology)\n…\n\n\n\n\n\nTurner, W. 2014. “Sensing Biodiversity.” Science 346 (6207): 301–2. https://doi.org/10.1126/science.1256014."
  },
  {
    "objectID": "D02_aasee.html#case-study-level-1-basic-comparisons",
    "href": "D02_aasee.html#case-study-level-1-basic-comparisons",
    "title": "D02: The Aasee Dataset",
    "section": "Case Study Level 1: Basic Comparisons",
    "text": "Case Study Level 1: Basic Comparisons\nAs a first intermediate goal we want to deal with the following task. We will learn all the necessary skills in R and a bit of statistics in the next lessons, but it is valuable to think about the task / question beforehand!\n\nCompare the water temperature of 2022 April and 2022 May.\n\n\nWhat does this task actually mean? What possibilities do we have?\nOutline steps to answer the question"
  },
  {
    "objectID": "D02_aasee.html#case-study-level-2-aasee-critical-oxygen-concentrations",
    "href": "D02_aasee.html#case-study-level-2-aasee-critical-oxygen-concentrations",
    "title": "D02: The Aasee Dataset",
    "section": "Case Study Level 2: Aasee Critical Oxygen Concentrations",
    "text": "Case Study Level 2: Aasee Critical Oxygen Concentrations\nIn 2018, more than twenty tons of fish died in the Aasee due to low oxygen concentrations: https://www.uni-muenster.de/news/view.php?cmdid=9768.\nBased on this event, a reasonable question might be:\n\nOn how many days of 2022 does the Aasee reach critical oxygen concentrations (4 mg/l)?\n\n\nDefine the necessary steps!\nWork in your project environment!\nHow could a good visualization of this look like?"
  },
  {
    "objectID": "D02_aasee.html#case-study-level-3-temperature-and-oxygen",
    "href": "D02_aasee.html#case-study-level-3-temperature-and-oxygen",
    "title": "D02: The Aasee Dataset",
    "section": "Case Study Level 3: Temperature and Oxygen",
    "text": "Case Study Level 3: Temperature and Oxygen\nThe oxygen concentration in water is partly based on the water temperature. An idealized relation between Oxygen and Temperature might look like this:\n\n\n\nhttps://www.garnelenhaus.de/media/image/2f/30/57/Ricardo-Castellanos-Sauerstoff-Grafik.jpg\n\n\nWe want to find out if this holds true for the Aasee.\n\nFormulate a hypothesis.\n\n\nAggregate temperature and oxygen to daily means.\nVisualize the relation between temperature and oxygen in the Aasee.\nInterpret this visualization!"
  },
  {
    "objectID": "D03_project_setup.html#r-studio-projects",
    "href": "D03_project_setup.html#r-studio-projects",
    "title": "D03: Project Setup",
    "section": "R studio Projects",
    "text": "R studio Projects\nHere is an example from a blog entry at r-bloggers.com\n\n\n\nA good starting point for project setup\n\n\nInside a project, you can then use relative paths to files.\n\n# Example of absolute path\n\n## Linux\n\"/home/marvin/projects/rcourse/session02/data/file.csv\"\n\n## Windows\n\"C:\\Users\\Marvin\\Dokumente\\rcourse\\session02\\data\\file.csv\"\n\n# If the R project is set up in the \"session02\" directory we can use relative paths:\n\n# relative path to project root\ndata = read.csv(\"data/file.csv\")\n\nAdditional thoughts\n\nalways keep raw data\nbackups!\nfilepaths:\n\nno spaces\nno dots\nno weird characters\n\nHow to name files\nWindows uses backslash \\, R wants forward slash /\nyou can use the dir.create function to create a new empty directory"
  },
  {
    "objectID": "R01_introduction.html#r-code",
    "href": "R01_introduction.html#r-code",
    "title": "R01: What is R?",
    "section": "R Code",
    "text": "R Code\nHow R code looks like:\n\ndata &lt;- c(12, 45, 65, 1, 3, 87)\nmean(data)\n\ndata &lt;- data + 5\nsort(data)\n\nHow R code looks like with output:\n\ndata &lt;- c(12, 45, 65, 1, 3, 87)\nmean(data)\n\n[1] 35.5\n\ndata &lt;- data + 5\nsort(data)\n\n[1]  6  8 17 50 70 92"
  },
  {
    "objectID": "R01_introduction.html#why-r",
    "href": "R01_introduction.html#why-r",
    "title": "R01: What is R?",
    "section": "Why R?",
    "text": "Why R?\n\nEasy to get into (although it might not feel that way at first)\nDesigned for solving scientific problems\nBig community - Getting help is really easy.\nOpen-source, active development\n\n\nThe R package structure has been the key addition to the software - J. Chambers M. (2020)\n\n\nExpandable with packages provided by other R users\n\nSpecialized analysis for specific fields\nMachine Learning\nMedicine\nWriting Books\n…\n\nUsed in science, industry, healthcare, NGOs, …\n\n\n\n\nSlater et al. (2019) : Workflow with R packages"
  },
  {
    "objectID": "R01_introduction.html#rstudio",
    "href": "R01_introduction.html#rstudio",
    "title": "R01: What is R?",
    "section": "Rstudio",
    "text": "Rstudio\n\nIntegrated Development Environment (IDE)\nMakes R “convenient” to use\nText Editor + R Console\nProject Environments, Package Management, Help Pages, Plot Viewer, File Browser …"
  },
  {
    "objectID": "R01_introduction.html#task-r-and-rstudio",
    "href": "R01_introduction.html#task-r-and-rstudio",
    "title": "R01: What is R?",
    "section": "TASK: R and Rstudio",
    "text": "TASK: R and Rstudio\n\nOpen R studio and get familiar with the interface.\nCreate a new, empty R script.\nWhat is the difference between the script editor and the console?\nCopy the code below into the R script and run it line by line. Try to understand what each line does.\n\n\na &lt;- 5\nb &lt;- 10\n\na + b\n\np &lt;- a-b\n\nv &lt;- c(3,12,6,9,23)\nv\n\nv / b\n\nmean(v)\n# sum(v)\n\n\nQuestions you might have\n\nWhy does p &lt;- a*b not produce an output?\nWhat is c()?\nWhy does # sum(v) not work?\n\n\nEverything that exists in R is an object. Everything that happens in R is a function call. - J. M. Chambers (2016)\n\n\n\n\n\nChambers, John M. 2016. Extending R. The R Series. Boca Raton, Fla. London New York: CRC Press, Taylor & Francis Group.\n\n\nChambers, John, M. 2020. “S, R, and Data Science.” The R Journal 12 (1): 462. https://doi.org/10.32614/RJ-2020-028.\n\n\nSlater, Louise J., Guillaume Thirel, Shaun Harrigan, Olivier Delaigue, Alexander Hurley, Abdou Khouakhi, Ilaria Prosdocimi, Claudia Vitolo, and Katie Smith. 2019. “Using R in Hydrology: A Review of Recent Developments and Future Directions.” Hydrology and Earth System Sciences 23 (7): 2939–63. https://doi.org/10.5194/hess-23-2939-2019."
  },
  {
    "objectID": "R02_basics.html#variables",
    "href": "R02_basics.html#variables",
    "title": "R02: The very basics",
    "section": "Variables",
    "text": "Variables\n\nassign values to variables either with &lt;- or =\nvariable on the left, assigned value on the right\nYou decide how to name a variable.\n\nUse recognizable names!\nDon’t be lazy. Longer, descriptive names help immensely.\n\n\n\na &lt;- 5\nb = 10\n\na_big_number = 500000"
  },
  {
    "objectID": "R02_basics.html#values",
    "href": "R02_basics.html#values",
    "title": "R02: The very basics",
    "section": "Values",
    "text": "Values\n\nHow is data represented in R?\nTypes we need right now:\n\nnumeric\ncharacter (string / text)\nlogical\n“nothing”\n\n\n\n# numeric\n1\n68542\n4.5\n\n\n# character\n\"f\"\n\"Hi Mom!\"\n\n# logical\nTRUE\nF\n\n# nothing\nNA # there should be something, but it is missing\nNULL # truly nothing"
  },
  {
    "objectID": "R02_basics.html#functions",
    "href": "R02_basics.html#functions",
    "title": "R02: The very basics",
    "section": "Functions",
    "text": "Functions\n\nEverything you do in R is a function!\nEasily identified by function name followed by parenthesis (), e.g. print()\nfor common functions there are shortcuts\n\n\n# the class() function returns the type of the input\na &lt;- 5\nclass(a)\n\n[1] \"numeric\"\n\n# the nchar() function returns the number of characters in a string\nnchar(\"Hi Mom\")\n\n[1] 6\n\n# Really everything you do in R is a function!\n`&lt;-`(b, 10)\nprint(b)\n\n[1] 10\n\n\n\nmost functions need arguments\ninput, options, parameters to specify what the function should do\neach function has a help page where you can read about arguments\n\nFor example, the cos() function computes the cosine of a number. The help page specifies what the function expects as an input. You can access the help page with ?cos() or by searching for the function in the ‘Help’ tab in Rstudio (bottom right panel).\n\n# the cos function needs the argument x of type numeric\ncos(x = 0)\n\n[1] 1\n\n# it throws an error otherwise\ncos(x = \"3.14\")\n\nError in cos(x = \"3.14\"): non-numeric argument to mathematical function\n\n# argument names can be neglected\ncos(1)\n\n[1] 0.5403023"
  },
  {
    "objectID": "R03_vectors.html#vector-maths",
    "href": "R03_vectors.html#vector-maths",
    "title": "R03: Vectors",
    "section": "Vector Maths",
    "text": "Vector Maths\n\n\n\n\n\nR vector addition\n\n\n\n\n\nmost of the functions in R are “vectorised”\ni.e. functions are applied to all the elements in a vector\n\n\nvec1 = c(23, 1, 60, 21, 21, 5)\nvec1 + 6\n\n[1] 29  7 66 27 27 11\n\nvec2 = c(5, 1000, 5, 1000, 5, 1000)\nvec1 - vec2\n\n[1]   18 -999   55 -979   16 -995\n\n\n\n\n\n\n\nR vector multiplication, different length\n\n\n\n\n\n# be careful with vectors of different length!\nvec3 = c(1, 2, 1)\nvec1 * vec3\n\n[1] 23  2 60 21 42  5\n\nvec4 = c(1, 2, 1, 2)\nvec1 * vec4\n\n[1] 23  2 60 42 21 10"
  },
  {
    "objectID": "R03_vectors.html#vectors-and-functions",
    "href": "R03_vectors.html#vectors-and-functions",
    "title": "R03: Vectors",
    "section": "Vectors and functions",
    "text": "Vectors and functions\nThe vector below are the temperature values for the Aasee in Münster from the 2021-06-02.\n\ntemperature &lt;- c(18.81,18.73,18.92,18.87,18.76,18.79,18.87,18.84,18.89,18.89,\n                 18.93,18.95,18.92,18.97,19.00,18.99,19.00,19.00,18.99,19.00,\n                 18.98,18.97,18.97,18.97,18.97,18.98,18.96,18.94,18.94,18.91,\n                 18.90,18.89,18.87,18.85,18.85,18.84,18.83,18.81,18.81,18.81,\n                 18.81,18.81,18.80,18.79,18.80,18.79,18.79,18.78,18.77,18.78,\n                 18.79,18.79,18.79,18.79,18.79,18.79,18.80,18.79,18.81,18.80,\n                 18.81,18.81,18.82,18.84,18.87,18.89,18.89,18.91,18.96,19.02,\n                 19.11,19.15,18.95,18.92,18.84,18.85,18.96,18.92,18.95,18.95,\n                 18.91,19.00,19.02,19.06,19.05,19.47,19.32,19.05,19.66,19.57,\n                 19.23,19.42,19.36,19.66,19.79,19.81,19.99,21.10,21.94,22.52,\n                 22.81,22.43,22.16,21.55,21.80,21.02,21.85,21.45,22.48,22.73,\n                 22.61,22.83,20.85,20.68,19.76,19.81,19.74,19.58,19.35,19.40,\n                 19.75,19.76,19.85,19.82,19.86,20.08,20.06,19.85,20.04,19.90,\n                 19.96,20.12,19.94,20.20,20.17,20.31,20.17,20.37,20.36,20.13)"
  },
  {
    "objectID": "R03_vectors.html#subsetting",
    "href": "R03_vectors.html#subsetting",
    "title": "R03: Vectors",
    "section": "Subsetting",
    "text": "Subsetting\nFor many questions it is often required to access only parts of the data. This is one of the most common things you have to deal with in R.\n\nIndexing\nTo access single values of a vector, use square brackets [].\n\n# get the third value of the vector\ntemperature[3]\n\n[1] 18.92\n\n# accessing multiple elements at once\ntemperature[1,2]\n\nError in temperature[1, 2]: incorrect number of dimensions\n\ntemperature[c(1,2)]\n\n[1] 18.81 18.73\n\n\n\nUsing the functions above, what is an easy way to access the first 10 elements of the vector?\n\n\n\nLogical Operators\n\n\n\n\n\nR vector logical operation\n\n\n\n\nA more powerful way to subset a vector is by using logical operators. These functions usually return a boolean object (TRUE, FALSE) which can then be used to access certain values.\n\n1 &gt; 2\n\n[1] FALSE\n\n1 &lt; 2\n\n[1] TRUE\n\n1 == 2\n\n[1] FALSE\n\nmax(temperature) &gt; 22\n\n[1] TRUE\n\ntemperature &gt; 20\n\n  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n [13] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n [25] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n [37] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n [49] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n [61] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n [73] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n [85] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n [97] FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE\n[109]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE\n[121] FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE FALSE  TRUE FALSE FALSE  TRUE\n[133] FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE\n\nhot = temperature &gt; 20\n\ntemperature[hot]\n\n [1] 21.10 21.94 22.52 22.81 22.43 22.16 21.55 21.80 21.02 21.85 21.45 22.48\n[13] 22.73 22.61 22.83 20.85 20.68 20.08 20.06 20.04 20.12 20.20 20.17 20.31\n[25] 20.17 20.37 20.36 20.13"
  },
  {
    "objectID": "R04_dataframes.html#csv-files",
    "href": "R04_dataframes.html#csv-files",
    "title": "R04: Dataframes",
    "section": "CSV Files",
    "text": "CSV Files\nDataframes can be loaded from and saved to .csv files.\n\nComma Separated Values\nCaution: In Germany “,” is used as the decimal point. You often find “;” as the delimiter in csvs.\nCaution: If you open csv files in Excel, things can get messy\n\nDatum,Wassertemperatur,pH-Wert,Sauerstoffgehalt\n2021-05-31 23:57,17.98,8.05,10.53\n2021-06-01 00:09,17.66,8.04,9.64\n2021-06-01 00:19,18.03,8.12,11.30\n2021-06-01 00:27,18.08,8.14,11.32\n2021-06-01 00:39,18.06,8.12,11.06\n2021-06-01 00:49,18.01,8.10,10.91\n\nuse the read.csv function\nmake sure the dec and sep parameters of the function are properly set\nwhen in doubt look at the help page ?read.csv\n\n\ndata = read.csv(file = \"data/2021-06_aasee.csv\", dec = \".\", sep = \",\")\n\n\n# show the first few rows of the df\nhead(data)\n\n             Datum Wassertemperatur pH.Wert Sauerstoffgehalt\n1 2021-05-31 23:57            17.98    8.05            10.53\n2 2021-06-01 00:09            17.66    8.04             9.64\n3 2021-06-01 00:19            18.03    8.12            11.30\n4 2021-06-01 00:27            18.08    8.14            11.32\n5 2021-06-01 00:39            18.06    8.12            11.06\n6 2021-06-01 00:49            18.01    8.10            10.91\n\n# show the last few rows of the df\ntail(data)\n\n                Datum Wassertemperatur pH.Wert Sauerstoffgehalt\n4220 2021-06-30 22:57            23.73    8.78            17.80\n4221 2021-06-30 23:09            23.70    8.72            17.66\n4222 2021-06-30 23:18            23.68    8.73            17.72\n4223 2021-06-30 23:29            23.64    8.81            18.38\n4224 2021-06-30 23:39            23.62    8.76            17.93\n4225 2021-06-30 23:49            23.63    8.77            17.82\n\n# get a short summary of the structure\nstr(data)\n\n'data.frame':   4225 obs. of  4 variables:\n $ Datum           : chr  \"2021-05-31 23:57\" \"2021-06-01 00:09\" \"2021-06-01 00:19\" \"2021-06-01 00:27\" ...\n $ Wassertemperatur: num  18 17.7 18 18.1 18.1 ...\n $ pH.Wert         : num  8.05 8.04 8.12 8.14 8.12 8.1 8.1 8.1 8.1 8.1 ...\n $ Sauerstoffgehalt: num  10.53 9.64 11.3 11.32 11.06 ...\n\n\n\n\n\n\nChambers, John, M. 2020. “S, R, and Data Science.” The R Journal 12 (1): 462. https://doi.org/10.32614/RJ-2020-028."
  },
  {
    "objectID": "R05_tidyverse.html#dplyr",
    "href": "R05_tidyverse.html#dplyr",
    "title": "R05: Tidyverse functions",
    "section": "dplyr",
    "text": "dplyr\n\nprovides functions for dataframe manipulation\ncan complement or replace base R functions\n\n\n\n\nhttps://biostat2.uni.lu/lectures/img/06/vaudor_dplyr_schema.png\n\n\n\nlibrary(dplyr)\naasee = read.csv(\"data/2021-06_aasee.csv\")\n\n# slice - gives back a slice of data - i.e. the specified rows\naasee = slice(aasee, seq(8))\n\n\n# select - selects columns\nselect(aasee, Wassertemperatur)\n\n  Wassertemperatur\n1            17.98\n2            17.66\n3            18.03\n4            18.08\n5            18.06\n6            18.01\n7            18.02\n8            18.06\n\n# filter - filters rows based on logical operators\nfilter(aasee, Wassertemperatur &lt; 18)\n\n             Datum Wassertemperatur pH.Wert Sauerstoffgehalt\n1 2021-05-31 23:57            17.98    8.05            10.53\n2 2021-06-01 00:09            17.66    8.04             9.64\n\n# mutate - mutates the data.frame by adding columns\nmutate(aasee, t_kelvin = Wassertemperatur + 273.15)\n\n             Datum Wassertemperatur pH.Wert Sauerstoffgehalt t_kelvin\n1 2021-05-31 23:57            17.98    8.05            10.53   291.13\n2 2021-06-01 00:09            17.66    8.04             9.64   290.81\n3 2021-06-01 00:19            18.03    8.12            11.30   291.18\n4 2021-06-01 00:27            18.08    8.14            11.32   291.23\n5 2021-06-01 00:39            18.06    8.12            11.06   291.21\n6 2021-06-01 00:49            18.01    8.10            10.91   291.16\n7 2021-06-01 00:59            18.02    8.10            10.96   291.17\n8 2021-06-01 01:08            18.06    8.10            10.83   291.21\n\n# summarise - summarises data\nsummarise(aasee, minimum_t = min(Wassertemperatur))\n\n  minimum_t\n1     17.66\n\n\nThe functions itself could all be realized with base R functions:\n\n# the same in base R\n\n# select\naasee$Wassertemperatur\n\n[1] 17.98 17.66 18.03 18.08 18.06 18.01 18.02 18.06\n\n# filter\naasee[,aasee$Wassertemperatur &lt; 18]\n\n             Datum Wassertemperatur\n1 2021-05-31 23:57            17.98\n2 2021-06-01 00:09            17.66\n3 2021-06-01 00:19            18.03\n4 2021-06-01 00:27            18.08\n5 2021-06-01 00:39            18.06\n6 2021-06-01 00:49            18.01\n7 2021-06-01 00:59            18.02\n8 2021-06-01 01:08            18.06\n\n# mutate\naasee$t_kelvin = aasee$Wassertemperatur + 273.15\n\n# summarise\nmin(aasee$Wassertemperatur)\n\n[1] 17.66\n\n\nThe strength of dplyr is the possibility to chain functions with %&gt;% or |&gt;.\n\naasee|&gt; \n    filter(Wassertemperatur &lt; 18) |&gt; \n    select(pH.Wert) |&gt;  \n    max()\n\n[1] 8.05\n\n\nWith base R functions this looks messy, because we have to use functions inside functions.\n\nmax(aasee$pH.Wert[aasee$Wassertemperatur &lt; 18])\n\n[1] 8.05"
  },
  {
    "objectID": "R06_strings.html#the-stringr-package",
    "href": "R06_strings.html#the-stringr-package",
    "title": "R06: String handling",
    "section": "The stringr package",
    "text": "The stringr package\nFor advanced string handling we will make our lives easier by using the stringr package.\nTo use functions from a package we have to load it first with the library function. The first time you want to use a package you might have to install it first with install.packages.\n\ninstall.packages(\"stringr\")\n\nlibrary(stringr)\n\nMany packages have so called vignettes which are tutorial style help pages about the package. You can access vignettes via the “Packages” Pane in R studio or with a quick Google search.\nIt is a good idea to go over the vignette when using a new package.\n\ns = \"Hi Mom!\"\n\n# you can indicate in your script from which package a function comes from\n# by using ::\nstringr::str_length(s)\n\n[1] 7\n\nstr_sub(string = s, start = 1, end = 2)\n\n[1] \"Hi\"\n\n# vectorized:\nstring_vector = paste(seq(12), \"is\", c(\"odd\", \"even\"))\nstring_vector\n\n [1] \"1 is odd\"   \"2 is even\"  \"3 is odd\"   \"4 is even\"  \"5 is odd\"  \n [6] \"6 is even\"  \"7 is odd\"   \"8 is even\"  \"9 is odd\"   \"10 is even\"\n[11] \"11 is odd\"  \"12 is even\"\n\nstr_remove(string_vector, pattern = \"is \")\n\n [1] \"1 odd\"   \"2 even\"  \"3 odd\"   \"4 even\"  \"5 odd\"   \"6 even\"  \"7 odd\"  \n [8] \"8 even\"  \"9 odd\"   \"10 even\" \"11 odd\"  \"12 even\"\n\n# stringr functions are part of the tidyverse\n# pipes work:\nstring_vector |&gt; str_replace(pattern = \" is\", replacement = \":\")\n\n [1] \"1: odd\"   \"2: even\"  \"3: odd\"   \"4: even\"  \"5: odd\"   \"6: even\" \n [7] \"7: odd\"   \"8: even\"  \"9: odd\"   \"10: even\" \"11: odd\"  \"12: even\"\n\n\n\nPattern matching\nPattern matching are logical operators for strings.\n\nstr_detect(string_vector, pattern = \"odd\")\n\n [1]  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE\n\nstr_which(string_vector, pattern = \"even\")\n\n[1]  2  4  6  8 10 12\n\nstr_starts(string_vector, pattern = \"1\")\n\n [1]  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE\n\nstr_count(string_vector, pattern = \"1\")\n\n [1] 1 0 0 0 0 0 0 0 0 1 2 1\n\n\n\n\nLeading Zeros\nstr_pad one can be quite important to keep you sane.\n\nstring_vector = paste(seq(15), \"is\", c(\"odd\", \"even\"))\nstring_vector\n\n [1] \"1 is odd\"   \"2 is even\"  \"3 is odd\"   \"4 is even\"  \"5 is odd\"  \n [6] \"6 is even\"  \"7 is odd\"   \"8 is even\"  \"9 is odd\"   \"10 is even\"\n[11] \"11 is odd\"  \"12 is even\" \"13 is odd\"  \"14 is even\" \"15 is odd\" \n\nstring_vector_pad = paste(str_pad(seq(15), width = 2, pad = 0, side = \"left\"),\n                          \"is\",\n                          c(\"odd\", \"even\"))\nstring_vector_pad\n\n [1] \"01 is odd\"  \"02 is even\" \"03 is odd\"  \"04 is even\" \"05 is odd\" \n [6] \"06 is even\" \"07 is odd\"  \"08 is even\" \"09 is odd\"  \"10 is even\"\n[11] \"11 is odd\"  \"12 is even\" \"13 is odd\"  \"14 is even\" \"15 is odd\""
  },
  {
    "objectID": "R07_lists.html#some-generic-functions-with-lists",
    "href": "R07_lists.html#some-generic-functions-with-lists",
    "title": "R07: Lists",
    "section": "Some generic functions with lists",
    "text": "Some generic functions with lists\n\nlength(l)\n\n[1] 4\n\nsummary(l)\n\n     Length Class  Mode     \n[1,] 1      -none- numeric  \n[2,] 1      -none- numeric  \n[3,] 1      -none- character\n[4,] 2      -none- numeric"
  },
  {
    "objectID": "R07_lists.html#subsetting-lists",
    "href": "R07_lists.html#subsetting-lists",
    "title": "R07: Lists",
    "section": "Subsetting Lists",
    "text": "Subsetting Lists\nThere are multiple ways to subset a list (i.e. get a specific or multiple entries).\nSubsetting with [ ] returns a list.\n\nl[1]\n\n[[1]]\n[1] 5\n\nclass(l[1])\n\n[1] \"list\"\n\n# We can select multiple entries by using a vector\nl[c(1,3)]\n\n[[1]]\n[1] 5\n\n[[2]]\n[1] \"Psilocybe\"\n\n\nMore commonly you don’t want a list, but the content that is stored in the list. For this you use double square brackets [[ ]].\n\nl[[2]]\n\n[1] 6\n\nclass(l[[2]])\n\n[1] \"numeric\"\n\n# Selecting multiple entries like this is not possible\n\nl[[c(1,2)]]\n\nError in l[[c(1, 2)]]: subscript out of bounds"
  },
  {
    "objectID": "R07_lists.html#named-entries",
    "href": "R07_lists.html#named-entries",
    "title": "R07: Lists",
    "section": "Named entries",
    "text": "Named entries\nLists become even more useful when we start to name list entries. Our created list does not have names (we declared no names in the list creation).\n\nnames(l)\n\nNULL\n\nnames(l) = c(\"a\", \"b\", \"c\", \"d\")\nl\n\n$a\n[1] 5\n\n$b\n[1] 6\n\n$c\n[1] \"Psilocybe\"\n\n$d\n[1] 1 5\n\n\nCalling the list now also shows the entry names (after the $). We can use the names now to select specific entries.\n\n# single brackets: return list\nl[c(\"c\", \"a\")]\n\n$c\n[1] \"Psilocybe\"\n\n$a\n[1] 5\n\n# double brackets: return value\nl[[\"b\"]]\n\n[1] 6\n\n# or use the dollar sign $\nl$b\n\n[1] 6"
  },
  {
    "objectID": "R08_formula.html",
    "href": "R08_formula.html",
    "title": "R08: Formula notation",
    "section": "",
    "text": "Some functions use a so called formula as an argument. Look e.g. at the help page of boxplot() to see that it’s able to takes an argument formula the description\n\na formula, such as y ~ grp, where y is a numeric vector of data values to be split into groups according to the grouping variable grp (usually a factor).\n\n\na = c(1,5,3)\nb = c(6,8,7)\n\na ~ b\n\na ~ b\n\nclass(a~b)\n\n[1] \"formula\"\n\n\nA lot of statistical functions use this notation. As a beginner you most likely find formulas in boxplot(), plot() and lm().\n\ndata(iris)\nboxplot(iris$Petal.Length ~ iris$Species)\n\n\n\n\nThink about the ~ like as a function of. So boxplot(iris$Petal.Length ~ iris$Species) means: Give me boxplots of the petal length as a function of species.\n\n# Show me the Sepal.Length as a function of Petal.Length\nplot(iris$Sepal.Length ~ iris$Petal.Length)\n\n\n\n\n\n# calculate the relation between Sepal.Length and Petal.Length\n# model Sepal.Length as a function of Petal.Length\n\n\nlmod = lm(iris$Sepal.Length ~ iris$Petal.Length)\n\nplot(iris$Sepal.Length ~ iris$Petal.Length)\nabline(lmod)"
  },
  {
    "objectID": "R09_linearmodels.html#linear-model-summary",
    "href": "R09_linearmodels.html#linear-model-summary",
    "title": "R09: Linear Models",
    "section": "Linear Model Summary",
    "text": "Linear Model Summary\nCalling the model returns the intercept and slope. To get a more useful output use the summary function. In the following we will go over the output of the summary function on linear models. The explanations are mostly taken from this blog entry: https://feliperego.github.io/blog/2015/10/23/Interpreting-Model-Output-In-R\n\nsummary(lmod)\n\n\nCall:\nlm(formula = Species ~ Abundance, data = bd)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-6.3136 -1.2481 -0.2235  1.1245  5.3046 \n\nCoefficients:\n             Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 10.716507   0.991039  10.813 1.58e-15 ***\nAbundance    0.017491   0.003656   4.784 1.22e-05 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.416 on 58 degrees of freedom\nMultiple R-squared:  0.2829,    Adjusted R-squared:  0.2706 \nF-statistic: 22.89 on 1 and 58 DF,  p-value: 1.221e-05\n\n\n\nCall\n\nthe function that was used to create the model\n\n\n\nResiduals\n\nsummary statistic of the model error\n“How far away are the real values from the model?”\nshould follow a normal distribution (e.g. by plotting a histogram)\n\n\n\n\n\n\n\nhist(lmod$residuals)\n\n\n\n\n\n\nCoefficients\n\nEstimate\n\nagain the slope and intercept\nwe can expect to observed at least 10.7 different species on a plot (if we collect 103 animals)\nfor each additional animal observed, the species count increases by 0.017\n\n\n\n\n\n\n\n\nStd. Error\n\nthe expected error of the coefficients\nfor each additional animal observed, the species number increases by 0.017 +- 0.0037\n\n\n\nt value\n\nhow many standard deviation is the std. error away from zero?\nfar away from zero is better. Reduces the probability that the result is due to chance\nusually not interpreted\n\n\n\nPr(&gt;|t|)\n\nprobability that the observed value is larger than t\nsmall value means that there is a high chance that the relation is not based on chance\np values &lt; than 0.05 is the convention that we can neglect the H0 hypothesis (the model actually depicts a relation)\n\n\n\nSignif. codes\n\na legend for the significance level of the p-value\n\n\n\nResiduals standard error\n\nstandard deviation of the residuals\nthe average deviation of the real values from the model value\ndegree of freedom: on how many observations is this value based on?\n\n\n\nMultiple R-squared\n\nHow much of the variance is explained by the model?\nValues between 0 and 1\n0 means no explanation, 1 means perfect fit\nDepends on the specific example!\n\n\n\nF-statistics\n\nIs there a relation between the predictor and the response?\nIs my model better than if all the coefficients are zero?\nAway from 1 is good!\nDepend on number of data points."
  },
  {
    "objectID": "R09_linearmodels.html#linear-model-plot",
    "href": "R09_linearmodels.html#linear-model-plot",
    "title": "R09: Linear Models",
    "section": "Linear Model Plot",
    "text": "Linear Model Plot\nPlotting the linear model gives you 4 different figures that indicate if the model is statistically valid in the first place, i.e. if the residuals follow a normal distribution and if they are homoscedatic.\n\nResiduals vs. Fitted\n\nIs it actually a linear relation?\nPoints randomly scattered around a horizontal line indicates this\n\n\n\nNormal Q-Q\n\nAre the residuals normally distributed?\nPoints on the 1-1 line indicates this\nDepicted are the actual residuals vs. a theoretical normal distribution\n\n\n\nScale location\n\nAre the residuals homoscedatic?\nThis means that the range of the residuals are more or less equal for the whole data range\nEqually spread points around the line indicates this\n\n\n\nResiduals vs. Levarage\n\nAre there outliers in the data that have influence on the model?\nIn this example, if we would leave out point #12, the model outcome would change.\n\n\nplot(lmod)"
  },
  {
    "objectID": "R10_ggplot.html#the-grammar-of-graphics",
    "href": "R10_ggplot.html#the-grammar-of-graphics",
    "title": "R10: ggplot2",
    "section": "The grammar of graphics",
    "text": "The grammar of graphics\nScientific figures and advanced visualization in R are usually done with the ggplot2 package.\n\nhttps://ggplot2.tidyverse.org/\ntidyverse package: synergies and integration with e.g. dplyr\nlayer based language that are combined with +\ndifferentiated by “static” and “dynamic” parameters\nmany extensions: https://exts.ggplot2.tidyverse.org/gallery/\nGallery for inspiration: https://r-graph-gallery.com/index.html\n\n\nlibrary(ggplot2)\nlibrary(viridis)\n# data overview\nspecies = read.csv(\"data/crop_species.csv\")\n\n\nInitialze the plot\nTell ggplot which data.frame is the basis for the plot.\n\nggplot(data = species)\n\n\n\n\nThe mapping argument of the ggplot() function handles which columns of the data should be used for which purpose. To specify this, we use the aes() function (aesthetics). Common things that we specify:\n\nx\ny\ngroup\ncolor\nfill\n\nHere we specify that on the x-axis in our plot represent the AraInd column. As a result we get the proper y-axis, but still no data is shown. For this, we have to specify in which form the data should be depicted.\n\nggplot(data = species, mapping = aes(x = AraInd))\n\n\n\n\n\n\nGeometry types\nThere are many different geometry types build into ggplot2 and even more from additional packages. The functions to create the geometry layers usually start with geom_. The geom functions also have their own arguments you can specify.\n\ngeom_point\ngeom_line\ngeom_boxplot\ngeom_histogram\n…\n\n\nggplot(species, aes(x = AraInd))+\n    geom_histogram()\n\n\n\n\n\nggplot(species, aes(x = AraInd))+\n    geom_histogram(binwidth = 10, fill = \"darkgreen\", color = \"black\")\n\n\n\n\nDifferent geometry types require more than one aesthetic. E.g. geom_point needs the x and y aesthetics.\n\nggplot(species, aes(x = Croptype, y = AraInd))+\n    geom_point()\n\n\n\n\n\n\nAxis Formats\nThe Axis format depends on the type of variable you want to plot. We have to be aware of what scale type we have.\n\ndiscrete scale for categorical data\ncontinuous scale for numeric data\nlimits, ticks, labels …\n\n\nggplot(species, aes(x = Croptype, y = AraInd))+\n    geom_point(size = 4, alpha = 0.8, shape = 18)+\n    scale_x_discrete(labels = c(\"KE\" = \"Grain Pea\",\n                                \"SM\" = \"Silage Maize\",\n                                \"WR\" = \"Winter Oilseed Rape\",\n                                \"WW\" = \"Winter Wheat\",\n                                \"ZR\" = \"Sugar Beet\"))+\n    scale_y_continuous(name = \"Aranae [n]\", limits = c(0,200))\n\n\n\n\nWe can also save the plot to a object to reuse and modify it later.\n\naraind_plot = ggplot(species, aes(x = Croptype, y = AraInd))+\n    geom_point(size = 4, alpha = 0.8, shape = 18)+\n    scale_x_discrete(labels = c(\"KE\" = \"Grain Pea\",\n                                \"SM\" = \"Silage Maize\",\n                                \"WR\" = \"Winter Oilseed Rape\",\n                                \"WW\" = \"Winter Wheat\",\n                                \"ZR\" = \"Sugar Beet\"))+\n    scale_y_continuous(name = \"Aranae [n]\", limits = c(0,200))\n\n\n\naraind_plot + ggtitle(\"Aranae [n] per crop type\")\n\n\n\n\n\n\nColor Scales\nWith the color and fill arguments in aes() we specify which columns of the data.frame should be represented as a color scale in the plot.\n\nggplot(species, aes(x = Croptype, y = AraInd, color = AraSpec))+\n    geom_point(size = 4, alpha = 0.8, shape = 18)+\n    scale_x_discrete(name = \"Crop Type\")+\n    scale_y_continuous(name = \"Aranae [n]\", limits = c(0,200))\n\n\n\n\nWe can specify the colors by adding a scale_color_ layer. Just like with the axis, there are discrete and continuous color scales available!\n\nggplot(species, aes(x = Croptype, y = AraInd, color = AraSpec))+\n    geom_point(size = 4, alpha = 0.8, shape = 18)+\n    scale_color_gradient(name = \"Aranae\\nSpecies [n]\", low = \"yellow\", high = \"red\")+\n    scale_x_discrete(name = \"Crop Type\")+\n    scale_y_continuous(name = \"Aranae [n]\", limits = c(0,200))\n\n\n\n\n\n\nThemes\nThere are many prebuild themes…\n\nggplot(species, aes(x = Croptype, y = AraInd, color = AraSpec))+\n    geom_point(size = 4, alpha = 0.8, shape = 18)+\n    scale_color_gradientn(name = \"Aranae\\nSpecies [n]\",colors = mako(50))+\n    scale_x_discrete(name = \"Crop Type\")+\n    scale_y_continuous(name = \"Aranae [n]\", limits = c(0,200))+\n    theme_minimal()\n\n\n\n\n… or you can specify your own:\n\nggplot(species, aes(x = Croptype, y = AraInd, color = AraSpec))+\n    geom_point(size = 4, alpha = 0.8, shape = 18)+\n    scale_color_gradientn(name = \"Aranae\\nSpecies [n]\",colors = mako(50))+\n    scale_x_discrete(name = \"Crop Type\")+\n    scale_y_continuous(name = \"Aranae [n]\", limits = c(0,200), expand = c(0,0))+\n    theme(panel.background = element_blank(),\n          panel.grid.major.y = element_line(color = \"black\", linetype = \"dotted\"),\n          axis.line = element_line(color = \"black\"))"
  },
  {
    "objectID": "R11_markdown.html#what-is-markdown",
    "href": "R11_markdown.html#what-is-markdown",
    "title": "R11: markdown",
    "section": "What is markdown?",
    "text": "What is markdown?\nMarkdown is a “language” to format text. There are dedicated symbols for different purposes. For example, text between two * appear bold.\nYou can find a basic introduction here: https://quarto.org/docs/authoring/markdown-basics.html"
  },
  {
    "objectID": "R11_markdown.html#using-markdown-in-rstudio",
    "href": "R11_markdown.html#using-markdown-in-rstudio",
    "title": "R11: markdown",
    "section": "Using markdown in Rstudio",
    "text": "Using markdown in Rstudio\nSimply go to File - New File - Quarto Document... or File - New File - R Markdown... to create a markdown file with some example code and work your way from there. Or if you want to jump right into markdown projects go to New Project... - New Directory and choose an appropriate Template (e.g. Quarto Homepage)"
  },
  {
    "objectID": "exercise/E01-variablen.html#variablen",
    "href": "exercise/E01-variablen.html#variablen",
    "title": "E01: Variablen, Funktionen",
    "section": "Variablen",
    "text": "Variablen\n\nErstelle eine Variable die die Zahl 1650 enthält.\nErstelle eine Variable die die Zahl 140 enthält.\nErstelle eine Variable die die Zahl 5 enthält.\nBerechne das Produkt deiner erstellten Variablen.\nBerechne den Mittelwert deiner erstellten Variablen.\n\n\n\nCode\na = 1650\nb = 140\nc &lt;- 5\n\na*b*c\n\nhilfsvektor = c(a,b,c)\nmean(hilfsvektor)\n\n\n\nErstelle eine Variable die deinen Vornamen enthält.\nErstelle eine Variable die deinen Nachnamen enthält.\nDie paste Funktion kann Texte zusammenfügen. Probiere die Funktion mit den Variablen die deine Namen enthalten aus.\n\n\n\nCode\nvorname = \"Marvin\"\nnachname = \"Ludwig\"\n\npaste(vorname, nachname)"
  },
  {
    "objectID": "exercise/E01-variablen.html#funktionen",
    "href": "exercise/E01-variablen.html#funktionen",
    "title": "E01: Variablen, Funktionen",
    "section": "Funktionen",
    "text": "Funktionen\n\nVektoren in R sind Folgen von Werten, enthalten also z.B. mehrere Zahlen. Sie werden mit der Funktion c() erstellt:\n\n\nnumbers = c(4, 3, 8, 90, 16)\nnumbers\n\n\nTeste die Funktionen length(), sum(), sqrt(), und min() mit dem Vektor.\nWas macht die sqrt() Funktion?\nWas ist der Unterschied zwischen der max() Funktion und der which.max() Funktion?\n\n\n\nCode\nlength(numbers)\nsum(numbers)\nsqrt(numbers) # Squareroot, Quadratwurzel (vektorisiert, d.h. fuer jedes Element)\nmax(numbers) # maximaler Wert im Vektor\nwhich.max(numbers) # Position (Index) des maximalen Wertes im Vektor\n\n\n\nDie seq() Funktion erzeugt einen Vektor der Zahlenfolgenfolgen enthält. Sieh dir die Hilfeseite von seq() an und erstelle einen Vektor der alle 100er Zahlen von 0 bis 10000 enthält (also 0, 100, 200, … ,9900, 10000).\n\n\n\nCode\nhunderter = seq(0, 10000, by = 100)\nhunderter"
  },
  {
    "objectID": "exercise/E02-vectors-dataframes.html#indexing-und-logische-operatoren",
    "href": "exercise/E02-vectors-dataframes.html#indexing-und-logische-operatoren",
    "title": "E02: Vektoren, Dataframes",
    "section": "Indexing und Logische Operatoren",
    "text": "Indexing und Logische Operatoren\n\nGib den 5ten Wert des Vektors aus.\nGib nur den letzten Wert des Vektors aus.\nSpeichere die ersten 20 Temperaturen in einer neuen Variablen.\nSpeichere die 30 niedrigsten Temperaturen in einer neuen Variablen.\n\n\n\nCode\ntemperature[5]\ntemperature[length(temperature)]\n\ntemp_first_20 = temperature[seq(1,20)]\ntemp_low_30 = sort(temperature)[1:30]\n\n\n\nGib alle Temperaturen aus die 22°C überschreiten.\nWie oft wurde genau 18.79°C gemessen?\n\n\n\nCode\ntemperature[temperature &gt; 22]\n\nsum(temperature == 18.79)\n#oder\nlength(temperature[temperature == 18.79])"
  },
  {
    "objectID": "exercise/E02-vectors-dataframes.html#dataframes",
    "href": "exercise/E02-vectors-dataframes.html#dataframes",
    "title": "E02: Vektoren, Dataframes",
    "section": "Dataframes",
    "text": "Dataframes\nZum Testen von Funktionen und zur Übung stellt R verschiedene Datensätze zur Verfügung. Der wohl bekannteste Datensatz davon ist iris er kann folgendermaßen geladen werden:\n\n\nCode\ndata(iris)\nhead(iris)\n\n\n\nTeste folgende Funktionen mit dem Iris Datensatz: length(), nrow(), ncol(), summary(), colnames().\nSpeichere die Species Spalte in einer neuen Variablen. Um was für ein R Objekt handelt es sich nun?\nWie viele Species sind im Datensatz enthalten und wie oft kommt jede Species vor?\n\n\n\nCode\nlength(iris)\nnrow(iris)\nncol(iris)\nsummary(iris)\nsummary(iris$Sepal.Length)\ncolnames(iris); names(iris)"
  },
  {
    "objectID": "exercise/E02-vectors-dataframes.html#dataframe-subsetting",
    "href": "exercise/E02-vectors-dataframes.html#dataframe-subsetting",
    "title": "E02: Vektoren, Dataframes",
    "section": "Dataframe subsetting",
    "text": "Dataframe subsetting\n\nErstelle einen neuen dataframe der nur die Beobachtungen der Species “virginica” enthält.\nErstelle einen neuen dataframe der nur die Beobachtungen der Species “setosa” und “versicolor” enthält.\nErstelle einen neuen dataframe der extakt die erste Hälfte der Beobachtungen enthält.\nErstelle einen neuen dataframe der nur Beobachtungen enthält mit einer Sepal.Length zwischen 5.5 und 7.\n\n\n\nCode\nvir = iris[iris$Species == \"virginica\",]\nset_ver = iris[iris$Species == \"setosa\" | iris$Species == \"versicolor\",]\n# oder\nset_ver = iris[iris$Species != \"virginica\",]\n# oder\nset_ver = iris[iris$Species %in% c(\"setosa\", \"versicolor\"),]\n\n\niris_half = iris[1:(nrow(iris)/2),]\n\niris_sepal = iris[iris$Sepal.Length &gt; 5.5 & iris$Sepal.Length &lt; 7,]"
  },
  {
    "objectID": "exercise/E02-vectors-dataframes.html#bonus-ein-bisschen-statistik",
    "href": "exercise/E02-vectors-dataframes.html#bonus-ein-bisschen-statistik",
    "title": "E02: Vektoren, Dataframes",
    "section": "Bonus: Ein bisschen Statistik",
    "text": "Bonus: Ein bisschen Statistik\n\nWas ist die durchschnittliche Sepal.Length von “virginica”?\nZeichne ein Histogramm der Sepal.Width.\nBerechne die Varianz und Standardabweichung der Sepal.Width.\nZeichne einen Scatterplot mit der Sepal.Length auf der x-Achse und der Petal.Length auf der y-Achse.\n\n\n\nCode\nmean(vir$Sepal.Length)\nhist(iris$Sepal.Width)\n\nvar(iris$Sepal.Width)\nsd(iris$Sepal.Width)\nplot(iris$Sepal.Length, iris$Petal.Length)\n\n\n\nTipp 1: Data.frames können als 2-Dimensionale Vektoren aufgefasst werden. Subsetting von data.frames benötigen deshalb 2 Werte, einen für die Reihe, einen für die Spalte.\n\n# row 1, column 2\niris[1,2]\n\n# the first row, empty means \"everything\"\niris[1,]\n\n# the first 3 rows, column 3 and 4\niris[seq(3), c(3,4)]\n\nTipp 2: Einzele Spalten können mit $ angewählt werden.\n\niris$Sepal.Length\n\nTipp 3: Googlen!"
  },
  {
    "objectID": "exercise/E03-more-dataframes.html#münsters-bezirke",
    "href": "exercise/E03-more-dataframes.html#münsters-bezirke",
    "title": "E03: Mehr Dataframes",
    "section": "Münsters Bezirke",
    "text": "Münsters Bezirke\n\nWelcher Bezirk Münsters ist am größten?\n\n\nbezirke$district[which.max(bezirke$area)]\n\n[1] \"Amelsbüren\"\n\n# oder:\nbezirke[bezirke$area == max(bezirke$area),]$district\n\n[1] \"Amelsbüren\"\n\n\n\nWie groß ist die Bezirksgruppe “Altstadt”?\n\n\nsum(bezirke[bezirke$district_group == \"Altstadt\",]$area)\n\n[1] 1194248\n\n# oder:\nsum(bezirke$area[which(bezirke$district_group == \"Altstadt\")])\n\n[1] 1194248\n\n\n\nZu welcher Bezirksgruppe gehört der Bezirk “Schloss”?\n\n\nbezirke[which(bezirke$district==\"Schloss\"),]$district_group\n\n[1] \"Innenstadtring\"\n\n# oder\nbezirke$district_group[which(bezirke$district==\"Schloss\")]\n\n[1] \"Innenstadtring\"\n\n\n\nAus Welchen Bezirken besteht die Bezirksgruppe “Münster-West”?\n\n\nmw = which(bezirke$district_group == \"Münster-West\")\nbezirke[mw,]$district\n\n[1] \"Albachten\"   \"Gievenbeck\"  \"Roxel\"       \"Mecklenbeck\" \"Nienberge\"  \n[6] \"Sentrup\"    \n\n# oder\nbezirke$district[bezirke$district_group == \"Münster-West\"]\n\n[1] \"Albachten\"   \"Gievenbeck\"  \"Roxel\"       \"Mecklenbeck\" \"Nienberge\"  \n[6] \"Sentrup\""
  },
  {
    "objectID": "exercise/E03-more-dataframes.html#münsters-bäume",
    "href": "exercise/E03-more-dataframes.html#münsters-bäume",
    "title": "E03: Mehr Dataframes",
    "section": "Münsters Bäume",
    "text": "Münsters Bäume\n\nWie viele Baumarten gibt es in Münster?\n\n\nv = trees$species\nlength(unique(v))\n\n[1] 67\n\n# oder\nlength(table(trees$species))\n\n[1] 67\n\n\n\nWie viele Buchen (species: Fagus) gibt es in Münster?\n\n\nsum(trees$species == \"Fagus\")\n\n[1] 420\n\n# oder:\nfagus = trees[trees$species == \"Fagus\",]\nnrow(fagus)\n\n[1] 420\n\nlength(fagus$species)\n\n[1] 420\n\n\n\nIn welchem Bezirk stehen die meisten Bäume?\n\n\nv1 = sort(table(trees$district), decreasing = TRUE)[1]\nv1 # Name mit Baumanzahl\n\nNienberge \n     2407 \n\nwhich.max(table(trees$district)) # Name mit Index\n\nNienberge \n       34 \n\n\n\nIn welchem Bezirk stehen die meisten Magnolien (species: Magnolia)?\n\n\nwhich.max(table(trees$district[trees$species == \"Magnolia\"]))\n\nBahnhof \n      2 \n\nmuenster_Magnolia &lt;- trees[trees$species== \"Magnolia\",]\ntable(muenster_Magnolia$district)\n\n\n      Aaseestadt          Bahnhof              Dom         Düesberg \n               1               25                1                8 \nGremmendorf-West        Herz-Jesu    Hiltrup-Mitte      Hiltrup-Ost \n               1                1                5                8 \n Kinderhaus-West    Mauritz-Mitte      Mecklenbeck      Schlachthof \n               4                7                2                6 \n         Schloss \n               7"
  },
  {
    "objectID": "exercise/E03-more-dataframes.html#und-noch-was-zum-knobeln",
    "href": "exercise/E03-more-dataframes.html#und-noch-was-zum-knobeln",
    "title": "E03: Mehr Dataframes",
    "section": "Und noch was zum Knobeln:",
    "text": "Und noch was zum Knobeln:\n\nErstelle eine Karte aller Bäume in den Bezirksgruppen “Altstadt” und “Innenstadtring”.\n\n\n# Welche districts sind in den districtgruppen \"Altstadt\" und \"Innnestadtring\"?\ninnermuenster = bezirke$district[bezirke$district_group == \"Altstadt\"| bezirke$district_group == \"Innenstadtring\"]\ninnermuenster\n\n [1] \"Bahnhof\"      \"Kreuz\"        \"Josef\"        \"Pluggendorf\"  \"Mauritz-West\"\n [6] \"Aegidii\"      \"Schloss\"      \"Dom\"          \"Martini\"      \"Hansaplatz\"  \n[11] \"Buddenturm\"   \"Neutor\"       \"Überwasser\"   \"Schlachthof\" \n\n# diesen Vektor benutzen um die Bäume zu filter:\nmuenster_trees_innermuenster = trees[trees$district %in% innermuenster,]\n\n# Dann X und Y plotten, asp = 1 verhindert verzerrung (aspect ratio), cex = 0.1 ist die Punktgrösse\nplot(muenster_trees_innermuenster$X, muenster_trees_innermuenster$Y,\n     asp = 1, cex = 0.1)"
  },
  {
    "objectID": "exercise/E04-tidyverse.html#münsters-bezirke",
    "href": "exercise/E04-tidyverse.html#münsters-bezirke",
    "title": "E04: Tidyverse, strings",
    "section": "Münsters Bezirke",
    "text": "Münsters Bezirke\n\nWie groß ist die Bezirksgruppe “Altstadt” (Fläche)?\n\n\nlibrary(tidyverse)\n\ndistricts[districts$district_group == \"Altstadt\",]$area\n\n\nselect(districts, \"area\")\n\nfilter(districts, districts$district_group == \"Altstadt\")\n\n\n# |&gt; pipe operator, auch %&gt;%, einfügen mit strg + shift + m\ndistricts |&gt; \n    filter(districts$district_group == \"Altstadt\") |&gt;\n    select(\"area\")\n\ndistricts |&gt; \n    filter(district_group == \"Altstadt\") |&gt;\n    select(area) |&gt; \n    sum()\n\n#\n\n\nZu welcher Bezirksgruppe gehört der Bezirk “Schloss”?\n\n\ndistricts |&gt; \n    filter(district == \"Schloss\") |&gt; \n    select(district_group)\n\n\nAus welchen Bezirken besteht die Bezirksgruppe “Münster-West”?\n\n\ndistricts |&gt; \n    filter(district_group == \"Münster-West\") |&gt; \n    select(district)\n# typische pipe schreibweise, zeilen + spalten auswählen\ndistricts |&gt; \n    filter(district_group == \"Münster-West\") |&gt; \n    select(district)\n\n\nErstelle eine Tabelle die für jede Bezirksgruppe den Mittelwert und die Standardabweichung der Fläche der jeweiligen Bezirke berechnet. Nutze dafür die Funktionen dplyr::group_by() und dplyr::summarise()\n\n\n# typische gruppierung und zusammenfassung\ndistricts |&gt; \n    group_by(district_group) |&gt; \n    summarise(area_m = mean( area ),\n              area_sd = sd( area ))"
  },
  {
    "objectID": "exercise/E04-tidyverse.html#münsters-bäume",
    "href": "exercise/E04-tidyverse.html#münsters-bäume",
    "title": "E04: Tidyverse, strings",
    "section": "Münsters Bäume",
    "text": "Münsters Bäume\n\nWie viele Baumarten gibt es in Münster?\n\n\nv = trees$species\nlength(unique(v))\n\ntrees |&gt; \n    select(species) |&gt; \n    unique() |&gt; \n    count()\n\n\nWie viele Buchen (species: Fagus) gibt es in Münster?\n\n\ntrees |&gt; \n    filter(species == \"Fagus\") |&gt; \n    pull(species) |&gt; \n    length()\n# oder:\ntrees |&gt; \n    filter(species == \"Fagus\") |&gt;\n    nrow()\n\n\nErstelle eine Tabelle die für jeden Bezirk die Anzahl unterschiedlicher Baumarten angibt. Nutze dafür die Funktionen dplyr::group_by() und dplyr::summarise()\n\n\nntrees = trees |&gt; \n    group_by(district) |&gt; \n    summarise(n = length(unique(species)))"
  },
  {
    "objectID": "exercise/E04-tidyverse.html#strings",
    "href": "exercise/E04-tidyverse.html#strings",
    "title": "E04: Tidyverse, strings",
    "section": "Strings",
    "text": "Strings\nNutze für die folgenden Aufgaben Funktionen des stringr Pakets.\n\nWie viele Bezirke beginnen mit “H”?\n\n\ndistricts |&gt; pull(district) |&gt; str_starts(\"H\") |&gt; sum()\n\nsum(str_starts(districts$district, \"H\"))\n\n\nGib alle Bezirke aus die das Wort “Ost” enthalten.\n\n\nIn der Baumtabelle gibt es in der Spalte species sowohl Einträge mit “Metasequoia” als auch mit “Metasequoia glyptostroboides”. Ändere alle “Metasequoia glyptostroboides” zu “Metasequoia”."
  },
  {
    "objectID": "exercise/E05-kritischer-sauerstoff.html#fallstudie-kritischer-sauerstoffgehalt-im-aasee",
    "href": "exercise/E05-kritischer-sauerstoff.html#fallstudie-kritischer-sauerstoffgehalt-im-aasee",
    "title": "E05: Kritischer Sauerstoff",
    "section": "Fallstudie: Kritischer Sauerstoffgehalt im Aasee",
    "text": "Fallstudie: Kritischer Sauerstoffgehalt im Aasee\n2018, starben mehr als 20 Tonnen Fisch im Aasee wegen zu geringem Sauerstoffgehalt: https://www.uni-muenster.de/news/view.php?cmdid=9768.\nBasierend auf diesem Ereignis kann man die Frage stellen:\n\nAn wie vielen Tagen im Jahr 2022 war der Sauerstoffgehalt im Aasee zu niedrig (4 mg/l)?\n\nDie folgenden Aufgaben sollen Schritt für Schritt eine mögliche herangehensweise darstellen:\n\n\nDie Tabelle enthält die Spalte Datum mit Texten (strings) in folgendem Format: “2021-05-31 23:57”. Erstelle 3 neue Spalten mit den Namen Jahr, Monat und Tag die dann jeweils nur die entsprechende Information beinhalten.\n\n\naasee_correct = mutate(aasee_correct, Jahr = str_sub(aasee_correct$Datum,\n                                     start = 1, end = 4))\n\naasee_correct = mutate(aasee_correct, Monat = str_sub(aasee_correct$Datum,\n                                     start = 6, end = 7))\n\naasee_correct = mutate(aasee_correct, Tag = str_sub(aasee_correct$Datum,\n                                     start = 9, end = 10))\n\n\n\n# Reformat Date Column\naasee = aasee |&gt;\n    rename(Zeit = Datum) |&gt; \n    mutate(Jahr = str_sub(Zeit, 1, 4),\n           Monat = str_sub(Zeit, 6, 7),\n           Tag = str_sub(Zeit, 9, 10),\n           Monat_Tag = str_sub(Zeit, 6, 10))\n\n\n\n\n\n\nlibrary(lubridate)\n\naasee_correct = aasee_correct %&gt;%\n    mutate(Date = as.Date(Datum),\n           Jahr = year(Datum),\n           Monat = month(Datum),\n           Tag = day(Datum))\n\n#\n\n\n\n\nnew_time= as.POSIXct(data_new$Datum,format=\"%Y-%m-%d %H:%M\")\ndata_new$Jahr=format(new_time, format=\"%Y\")\ndata_new$Monat=format(new_time, format=\"%m\")\ndata_new$Tag=format(new_time, format=\"%d\")\n\n\nErstelle eine neue Tabelle, die nur die Messwerte aus dem Jahr 2022 enthält.\n\n\naasee22 = aasee |&gt; filter(Jahr == 2022)\n\n\n# Richtig aber unguenstig:\naasee2022=aasee2[20675:35994,]\n\n\nDie Ausgangsfrage sollte jetzt leicht zu beantworten sein: An wie vielen Tagen im Jahr 2022 war der Sauerstoffgehalt im Aasee zu niedrig (4 mg/l)?\n\n\naasee_critical = aasee22 |&gt; filter(Sauerstoffgehalt &lt; 4)\n\nlength(unique(aasee_critical$Monat_Tag))\n\n\n\n\n\nlength(unique(aasee[aasee$Sauerstoffgehalt&lt; 4, c(\"Monat\", \"Tag\")]))\nlength(unique(aasee_critical$Tag))\n\n\n\nzu_niedrig=nur_2022[which(nur_2022$Sauerstoffgehalt&lt;=4),]\nunique(zu_niedrig$Tag)\nlength(unique(zu_niedrig$Tag))\n#31\n\n\n\nlength(aasee2022[aasee2022$Sauerstoffgehalt &lt;= 4,]) ## anzahl spalten !!!\naasee_crit = aasee22 |&gt; filter(Sauerstoffgehalt &lt; 4)\n\nlength(unique(aasee_crit$Datum))\nlength(unique(aasee$Tag))\n\nBonus: Überlege dir eine geeignete Visualisierung um den Sachverhalt Markus Lewe zu erklären.\n\nplot(aasee_correct$Date, aasee_correct$Sauerstoffgehalt, type = \"l\")\n\nabline(a = 4, b = 0, col = \"red\")\n\n\nclass(aasee$Sauerstoffgehalt ~ aasee$Monat)\n\nboxplot(aasee$Sauerstoffgehalt ~ aasee$Monat)\nabline(a = 4, b = 0)\n\n\n## Galerie: Variablennamen\n\n## aasee_MuhTanten\n## daten_aasee -&gt; daten_aasee_richtig -&gt; daten_aasee_noch_richtiger -&gt; daten_aasee_2022\n## aassee"
  },
  {
    "objectID": "exercise/E06-feldfruechte-arthropoden.html#task-crops-vs.-species",
    "href": "exercise/E06-feldfruechte-arthropoden.html#task-crops-vs.-species",
    "title": "E06: Feldfruechte und Arthropoden",
    "section": "TASK: Crops vs. Species",
    "text": "TASK: Crops vs. Species\n\nlibrary(dplyr)\nbd = read.csv(\"../data/crop_species.csv\")\n\n\nHow many different crop types where analysed in the study?\n\n\nlength(unique(bd$Croptype))\n\n[1] 5\n\n\n\nHow many plots are there for each crop type?\n\n\ntable(bd$Croptype)\n\n\nKE SM WR WW ZR \n 3  9  6 33  9 \n\n# or with dplyr\nbd |&gt;  count(Croptype)\n\n  Croptype  n\n1       KE  3\n2       SM  9\n3       WR  6\n4       WW 33\n5       ZR  9\n\n\n\nWhich plot had the most individual animals? (regardless of species)\n\n\n# calculate the total individuals for each plot\nbd$TotalInd = bd$AraInd + bd$CaraInd + bd$IsoMyrInd\n\n# find out on which plotcode the total number is the maximum total number\nbd$plotcode[bd$TotalInd == max(bd$TotalInd)]\n\n[1] 30\n\n# dplyr pipeline\nbd %&gt;% mutate(TotalInd = AraInd + CaraInd + IsoMyrInd) %&gt;% \n    filter(TotalInd == max(TotalInd)) %&gt;%\n    select(plotcode)\n\n  plotcode\n1       30\n\n\n\nWhich plot was the most diverse?\n\n\nbd$TotalSpec = bd$AraSpec + bd$CaraSpec + bd$IsoMyrSpec\nbd$plotcode[bd$TotalSpec == max(bd$TotalSpec)]\n\n[1] 98\n\nbd %&gt;% mutate(TotalSpec = AraSpec + CaraSpec + IsoMyrSpec) %&gt;% \n    filter(TotalSpec == max(TotalSpec)) %&gt;% \n    select(plotcode, TotalSpec)\n\n  plotcode TotalSpec\n1       98        41\n\n\n\nWhat is the average number of Carabidaes on all the plots containing winter wheat?\n\n\nmean(bd$CaraInd[bd$Croptype == \"WW\"])\n\n[1] 119.697\n\nbd %&gt;% filter(Croptype == \"WW\") %&gt;% \n    summarise(MeanCara = mean(CaraInd))\n\n  MeanCara\n1  119.697\n\nbd %&gt;% filter(Croptype == \"WW\") %&gt;% \n    pull(CaraInd) %&gt;% \n    mean()\n\n[1] 119.697\n\n\n\nWhat is the minimum number of individuals and species per crop type?\n\n\n# for one crop type and species only\nmin(bd$TotalSpec[bd$Croptype == \"WW\"])\n\n[1] 26\n\n# for everything at once\nbd %&gt;% group_by(Croptype) %&gt;% \n    summarise(MinInd = min(TotalInd),\n              MaxInd = max(TotalInd),\n              MinSpec = min(TotalSpec),\n              MaxSpec = max(TotalSpec))\n\n# A tibble: 5 × 5\n  Croptype MinInd MaxInd MinSpec MaxSpec\n  &lt;chr&gt;     &lt;int&gt;  &lt;int&gt;   &lt;int&gt;   &lt;int&gt;\n1 KE          216    342      27      30\n2 SM          103    399      21      41\n3 WR          271    597      24      40\n4 WW          149    317      26      36\n5 ZR          163    350      23      36\n\n\n\nVisualize the number of Carabidaes per crop type.\n\n\nboxplot(bd$CaraInd ~ bd$Croptype)\n\n\n\n\n\nPlot the number of Araneae species in relation to the number of individual Araneae.\n\n\nplot(bd$AraInd, bd$AraSpec)\n\n\n\n\n\nIf there are more individual Araneae on a plot, are there also more Araneae species?\n\n\n# build a linear model\nara_model = lm(bd$AraSpec ~ bd$AraInd)\n\nsummary(ara_model)\n\n\nCall:\nlm(formula = bd$AraSpec ~ bd$AraInd)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-4.6170 -1.4779 -0.2867  1.3864  7.2698 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  9.95648    1.18793   8.381 1.41e-11 ***\nbd$AraInd    0.04977    0.01084   4.593 2.40e-05 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.443 on 58 degrees of freedom\nMultiple R-squared:  0.2667,    Adjusted R-squared:  0.2541 \nF-statistic: 21.09 on 1 and 58 DF,  p-value: 2.401e-05\n\nplot(AraSpec ~ AraInd, data = bd)\nabline(ara_model)\n\n\n\nplot(AraSpec ~ AraInd, data = bd, asp = 1)\nabline(ara_model)\n\n\n\n\n\n\n\n\nMeyer, Michael, David Ott, Philipp Götze, Heinz-Josef Koch, and Christoph Scherber. 2019. “Crop Identity and Memory Effects on Aboveground Arthropods in a Long-Term Crop Rotation Experiment.” Ecology and Evolution 9 (12): 7307–23. https://doi.org/10.1002/ece3.5302."
  },
  {
    "objectID": "exercise/E07-lm.html",
    "href": "exercise/E07-lm.html",
    "title": "E07: lm",
    "section": "",
    "text": "Nutze die Dateien muenster_districts.csv und muenster_trees.csv aus dem Learnweb für die folgenden Aufgaben.\n\nNutze dplyr::group_by und dplyr::summarise um die Anzahl der Bäume pro Bezirk zu berechnen.\nMit einem join Befehl (z.B. dplyr::left_join) oder merge können mehrere Tabellen zusammengefügt werden. Erstelle damit eine Tabelle die mindestens folgende Informationen enthält: Bezirksname, Bezirksgröße, Anzahl der Bäume im Bezirk.\n\n\nlibrary(tidyverse)\ntrees = read.csv(\"../data/muenster_trees.csv\")\ndistricts = read.csv(\"../data/muenster_districts.csv\")\n\n\ntrees |&gt; group_by(district) |&gt; count(district)\n\n# A tibble: 45 × 2\n# Groups:   district [45]\n   district       n\n   &lt;chr&gt;      &lt;int&gt;\n 1 Aaseestadt  1718\n 2 Aegidii      267\n 3 Albachten   1349\n 4 Amelsbüren  1314\n 5 Angelmodde   517\n 6 Bahnhof      478\n 7 Berg Fidel   495\n 8 Buddenturm   280\n 9 Coerde       332\n10 Dom          567\n# ℹ 35 more rows\n\ntree_summary = trees |&gt; group_by(district) |&gt;   \n    summarise(AnzahlBaum = length((species)))\n\n\nbez = merge(x = districts, y = tree_summary, by = \"district\")\n# oder z.B.:\nbez = dplyr::left_join(x = districts, y = tree_summary, by = \"district\")\n\n\nErstelle einen Scatterplot aus Bezirksgröße und Anzahl der Bäume im Bezirk.\nErstelle ein lineares Model um den Zusammenhang zwischen Bezirksgröße und Anzahl der Bäume im Bezirk zu berechnen.\nErstelle ein Histogramm der Residuen des Models.\n\n\nplot(AnzahlBaum ~ area, data = bez)\n\n\n\nlmod = lm(AnzahlBaum ~ area, data = bez)\n\n\nLogarithmiere Bezirksgröße und Anzahl der Bäume im Bezirk (log10()). Erstelle dann den Scatterplot erneut mit den logarithmierten Werten.\n\n\nbez = bez |&gt; mutate(area_log10 = log10(area),\n                    AnzahlBaum_log10 = log10(AnzahlBaum))\n\n\nErstelle ein lineares Model um den Zusammenhang zwischen logarithmierten Bezirksgröße und Anzahl der Bäume im Bezirk zu berechnen.\nSind die Residuen des Models normalverteilt?\n\n\nplot(AnzahlBaum_log10 ~ area_log10, data = bez)\nlmod_log10 = lm(AnzahlBaum_log10 ~ area_log10, data = bez)\nabline(lmod_log10)\n\n\n\nsummary(lmod_log10)\n\n\nCall:\nlm(formula = AnzahlBaum_log10 ~ area_log10, data = bez)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.66218 -0.12225  0.03491  0.14988  0.51405 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  1.10059    0.36426   3.021  0.00423 ** \narea_log10   0.27302    0.05655   4.828 1.77e-05 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.2491 on 43 degrees of freedom\nMultiple R-squared:  0.3515,    Adjusted R-squared:  0.3364 \nF-statistic: 23.31 on 1 and 43 DF,  p-value: 1.775e-05\n\n# Tests und Plots auf Normalverteilung\n\nhist(lmod_log10$residuals)\n\n\n\nqqnorm(lmod_log10$residuals)\n\n\n\nshapiro.test(lmod_log10$residuals)\n\n\n    Shapiro-Wilk normality test\n\ndata:  lmod_log10$residuals\nW = 0.98679, p-value = 0.8818\n\nks.test(lmod_log10$residuals, y = \"pnorm\",\n        mean=mean(lmod_log10$residuals),\n        sd = sd(lmod_log10$residuals))\n\n\n    Exact one-sample Kolmogorov-Smirnov test\n\ndata:  lmod_log10$residuals\nD = 0.088961, p-value = 0.8376\nalternative hypothesis: two-sided\n\n# In beiden Fällen ist die Nullhypothese: Daten sind Normalverteilt\n# p &lt; 0.05: Nullhypothese wird Verworfen\n# --&gt; p &gt; 0.05: Daten sind Normalverteilt\n\n\nBonus: Wie viele Bäume stehen Erwartungsgemäß in einem Bezirk der 10000000 qm groß ist?\n\n\nlmod\n\n\nCall:\nlm(formula = AnzahlBaum ~ area, data = bez)\n\nCoefficients:\n(Intercept)         area  \n  7.275e+02    2.241e-05  \n\n# Vorhersagen mit Koeffizienten\n# y = m*x + b\n2.241*10^-5 * 10000000 + 7.275*10^2\n\n[1] 951.6\n\npredict(lmod, data.frame(area = 10000000))\n\n       1 \n951.6363 \n\n# Mit logarithmiertem Model\npredict(lmod_log10, data.frame(area_log10 = log10(10000000)))\n\n       1 \n3.011713 \n\n# Potenzieren um logarithmus umzukehren\n10**predict(lmod_log10, data.frame(area_log10 = log10(10000000)))\n\n       1 \n1027.338 \n\n#"
  },
  {
    "objectID": "exercise/E08-biodiversity.html",
    "href": "exercise/E08-biodiversity.html",
    "title": "E08: Biodiversity",
    "section": "",
    "text": "Bearbeite die folgenden Fragen mit der Datei muenster_trees.csv.\nFür die Aufgaben nutze das vegan Paket. R Pakete kommen oft mit sogenannten Vignetten - Anleitungen und Erklärungen zu Funktionen. Nutze die Vignette diversity-vegan um die folgenden Aufgaben zu meistern. Weitere Erklärungen und Grafiken auf https://www.rpubs.com/roalle/mres_2019.\nHinweis: Für die meisten Funktionen in vegan wird eine sogenannte community matrix benötigt. Jede Reihe ist ein Bezirk, jede Spalte eine Art. In den Zellen dann entsprechend die Abundanzen. Siehe data(BCI) für eine Formatvorlage.\n\ntrees = read.csv(\"../data/muenster_trees.csv\")\n\nlibrary(vegan)\nlibrary(tidyverse)\n\n# Kontingenztabelle\ncont = table(trees$district, trees$species)\ncont_df = as.data.frame.array(cont)\n\n\nWelcher Bezirk hat die diverseste Baumflora? Berechne dazu für alle Bezirke die Alpha Diversität in Form von:\n\nSpecies Richness\nShannon Index.\nPielou’s Evenness.\n\n\n\nspecies_richness = vegan::specnumber(cont_df)\nsort(species_richness, decreasing = TRUE)[1]\n\nAaseestadt \n        45 \n\nwhich.max(species_richness)\n\nAaseestadt \n         1 \n\n# Shannon index\nshannon = vegan::diversity(cont_df, index = \"shannon\")\nsort(shannon, decreasing = TRUE)\n\n     Pluggendorf       Aaseestadt      Schlachthof      Schützenhof \n        2.717101         2.673228         2.568181         2.516116 \n     Mauritz-Ost            Kreuz     Mauritz-West       Überwasser \n        2.492068         2.465932         2.458942         2.422434 \n      Hansaplatz          Schloss            Josef      Hiltrup-Ost \n        2.402432         2.361773         2.333364         2.327677 \n   Hiltrup-Mitte         Düesberg      Mecklenbeck          Sentrup \n        2.320083         2.266915         2.253076         2.244315 \n       Herz-Jesu            Geist    Mauritz-Mitte          Bahnhof \n        2.235766         2.225178         2.201645         2.198826 \n       Uppenberg  Kinderhaus-West          Handorf        Rumphorst \n        2.178721         2.173103         2.170564         2.156080 \n       Nienberge  Gremmendorf-Ost       Gievenbeck       Angelmodde \n        2.132541         2.126013         2.125744         2.103345 \n  Kinderhaus-Ost          Sprakel           Neutor           Coerde \n        2.077545         1.942009         1.900092         1.898854 \n         Aegidii       Berg Fidel            Hafen Gremmendorf-West \n        1.882616         1.842371         1.780047         1.702529 \n         Martini  Gelmer-Dyckburg            Roxel        Albachten \n        1.635990         1.554180         1.522840         1.521810 \n         Wolbeck     Hiltrup-West       Buddenturm       Amelsbüren \n        1.520262         1.474951         1.433875         1.319029 \n             Dom \n        1.310277 \n\n# Low Shannon: Dom\ntrees |&gt; filter(district == \"Dom\") |&gt;\n    select(species)|&gt;\n    table() |&gt; \n    sort(decreasing = TRUE) |&gt; \n    barplot(horiz = TRUE)\n\n\n\n# Medium Shannon: Gievenbeck\ntrees |&gt; filter(district == \"Gievenbeck\") |&gt;\n    select(species)|&gt;\n    table() |&gt; \n    sort(decreasing = TRUE) |&gt; \n    barplot(horiz = TRUE)\n\n\n\n# High Shannon: Pluggendorf\ntrees |&gt; filter(district == \"Pluggendorf\") |&gt;\n    select(species)|&gt;\n    table() |&gt; \n    sort(decreasing = TRUE) |&gt; \n    barplot(horiz = TRUE)\n\n\n\n## Pilous Evenness\n\nevenness = vegan::diversity(cont_df, index = \"shannon\") / log(specnumber(cont_df))\nsort(evenness, decreasing = TRUE)\n\n           Hafen       Überwasser      Pluggendorf      Mauritz-Ost \n       0.8560219        0.8550128        0.8069089        0.8062225 \n      Hansaplatz      Schützenhof          Handorf         Düesberg \n       0.7890997        0.7722657        0.7661139        0.7445881 \n    Mauritz-West  Gremmendorf-Ost    Hiltrup-Mitte            Josef \n       0.7379325        0.7355499        0.7300325        0.7249003 \n       Herz-Jesu      Hiltrup-Ost            Geist      Schlachthof \n       0.7233048        0.7231336        0.7198793        0.7166646 \n       Uppenberg       Angelmodde      Mecklenbeck   Kinderhaus-Ost \n       0.7156200        0.7143447        0.7089482        0.7055827 \n      Aaseestadt    Mauritz-Mitte        Rumphorst        Nienberge \n       0.7022499        0.7021684        0.6975253        0.6899100 \n         Sprakel           Neutor           Coerde  Kinderhaus-West \n       0.6854441        0.6853134        0.6848667        0.6837843 \n      Berg Fidel            Kreuz          Sentrup          Bahnhof \n       0.6803312        0.6684772        0.6598601        0.6288635 \n         Schloss       Gievenbeck          Aegidii  Gelmer-Dyckburg \n       0.6279307        0.6190307        0.6004209        0.5739112 \nGremmendorf-West          Martini     Hiltrup-West        Albachten \n       0.5683181        0.5373551        0.5319761        0.5168422 \n         Wolbeck       Buddenturm            Roxel       Amelsbüren \n       0.4993435        0.4960866        0.4730967        0.4403027 \n             Dom \n       0.4070603 \n\ntrees |&gt; filter(district == \"Hafen\") |&gt;\n    select(species)|&gt;\n    table() |&gt; \n    sort(decreasing = TRUE) |&gt; \n    barplot(horiz = TRUE)\n\n\n\n\n\nBerechne die Beta Diversität der Bäume Münsters. (Sørensen index of dissimilarity)\n\n\nbeta = vegdist(cont_df, binary = TRUE)\nmean(beta)\n\n[1] 0.3226524\n\n\n\nBerechne die Gamma Diversität der Bäume Münsters.\n\n\nncol(cont_df)\n\n[1] 67\n\nlength(unique(trees$species))\n\n[1] 67\n\n\n\nIn welchen Bezirken Münsters stehen endemische Baumarten? (vegan nicht nötig)\n\nWas ist ein Endemit/ eine endemische Art? Endemiten sind Arten, die lediglich in einem eng umgrenzten Gebiet oder in einer bestimmten Region vorkommen. Quelle\n\n# Noetige Schritte: Welche Baumarten kommen in lediglich einem Bezirk vor?\n# Wenn diese Info da ist, welche Bezirke sind das.\n\n# Anzahl interessiert nicht, lediglich \"kommt vor\" / \"kommt nicht vor\"\nendemic = cont_df &gt; 0\n\n\n\n# in wie vielen bezirken kommt die art vor?\ncolSums(endemic) == 1\n\n                       Abies                         Acer \n                        TRUE                        FALSE \n                    Aesculus                    Ailanthus \n                       FALSE                        FALSE \n                       Alnus                  Amelanchier \n                       FALSE                        FALSE \n                      Betula                     Carpinus \n                       FALSE                        FALSE \n                    Castanea                      Catalpa \n                       FALSE                        FALSE \n                    Catalpha                       Cedrus \n                        TRUE                        FALSE \n                      Celtis               Cercidiphyllum \n                       FALSE                        FALSE \n               Chamaecyparis                  Cladrastris \n                       FALSE                         TRUE \n                      Cornus                      Corylus \n                       FALSE                        FALSE \n                   Crataegus                  Cryptomeria \n                       FALSE                         TRUE \n                     Davidia                    Decaisnea \n                        TRUE                         TRUE \n                    Euonymus                        Fagus \n                       FALSE                        FALSE \n                    Fraxinus                       Ginkgo \n                       FALSE                        FALSE \n                   Gleditsia                         Ilex \n                       FALSE                        FALSE \n                     Juglans                    Juniperus \n                       FALSE                        FALSE \n                Koelreuteria                     Laburnum \n                       FALSE                        FALSE \n                       Larix                  Liquidambar \n                       FALSE                        FALSE \n                Liriodendron                     Magnolia \n                       FALSE                        FALSE \n                       Malus                Malus-Hybride \n                       FALSE                        FALSE \n                    Mespilus                  Metasequoia \n                        TRUE                        FALSE \nMetasequoia glyptostroboides                        Nyssa \n                       FALSE                        FALSE \n                    Parrotia                    Paulownia \n                       FALSE                        FALSE \n                       Picea                        Pinus \n                       FALSE                        FALSE \n                    Platanus                      Populus \n                       FALSE                        FALSE \n                      Prunus                  Pseudotsuga \n                       FALSE                         TRUE \n                  Pterocarya                        Pyrus \n                       FALSE                        FALSE \n                     Quercus                      Robinia \n                       FALSE                        FALSE \n                       Salix                     Sambucus \n                       FALSE                         TRUE \n              Sequoiadendron                      Sophora \n                        TRUE                        FALSE \n                      Sorbus                     Taxodium \n                       FALSE                        FALSE \n                       Taxus                        Thuja \n                       FALSE                        FALSE \n                       Tilia                        Tsuga \n                       FALSE                        FALSE \n                       Ulmus                     Viburnum \n                       FALSE                         TRUE \n                     Zelkova \n                       FALSE \n\nendemic = endemic[ ,colSums(endemic) == 1]\n\n# Nur die districts behalten bei denen mindestens ein TRUE in der Zeile steht\nrowSums(endemic)\n\n      Aaseestadt          Aegidii        Albachten       Amelsbüren \n               2                0                0                0 \n      Angelmodde          Bahnhof       Berg Fidel       Buddenturm \n               0                1                0                0 \n          Coerde              Dom         Düesberg            Geist \n               0                0                0                1 \n Gelmer-Dyckburg       Gievenbeck  Gremmendorf-Ost Gremmendorf-West \n               0                1                0                0 \n           Hafen          Handorf       Hansaplatz        Herz-Jesu \n               0                0                0                0 \n   Hiltrup-Mitte      Hiltrup-Ost     Hiltrup-West            Josef \n               0                0                0                0 \n  Kinderhaus-Ost  Kinderhaus-West            Kreuz          Martini \n               0                0                2                0 \n   Mauritz-Mitte      Mauritz-Ost     Mauritz-West      Mecklenbeck \n               0                0                1                1 \n          Neutor        Nienberge      Pluggendorf            Roxel \n               0                0                0                0 \n       Rumphorst      Schlachthof          Schloss      Schützenhof \n               0                0                2                0 \n         Sentrup          Sprakel       Überwasser        Uppenberg \n               0                0                0                0 \n         Wolbeck \n               0 \n\nendemic_districts = endemic[rowSums(endemic) &gt; 0,]\n\n\n\n\n# Auf der Ursprungstabelle:\nGruppe = trees %&gt;% \n  group_by(district, species) %&gt;% \n  summarise(count = n())\n\narten_einzelner_bezirk = Gruppe %&gt;% \n  group_by(species) %&gt;% \n  filter(n() == 1) %&gt;% \n  select(species, district)\n\n\n\n\n# Weitere Moeglichkeit\n\n## Count the unique districts per tree species,\n## Where is this == 1?\nendemic_species = trees %&gt;% group_by(species) %&gt;% \n    summarise(ndistricts = length(unique(district))) %&gt;% \n    filter(ndistricts == 1)\n\n\ntrees %&gt;% filter(species %in% endemic_species$species) %&gt;% \n    pull(district) %&gt;% unique()\n\n[1] \"Geist\"        \"Mecklenbeck\"  \"Gievenbeck\"   \"Kreuz\"        \"Bahnhof\"     \n[6] \"Mauritz-West\" \"Schloss\"      \"Aaseestadt\""
  },
  {
    "objectID": "exercise/E09-ggplot.html",
    "href": "exercise/E09-ggplot.html",
    "title": "E09: Visualisierung für Fortgeschrittene",
    "section": "",
    "text": "Erstelle folgende Grafiken mit ggplot2:\n\nBoxplots der Aranae Species pro Feldfruchttyp.\n\n\nScatterplot der Carabidae Individuen und Carabidae Species. Die Punkte sollen je nach Feldfrucht unterschiedlich gefärbt sein.\n\n\nErstelle eine Karte der Bäume Münsters (nur mit ggplot!).\n\n\nErstelle eine “heatmap” der Bäume in Münster (geom_bin_2d or geom_hex)\n\n\nPlotte die Zeitreihe des Sauerstoffgehaltes des Aasee mit:\n\neiner x-Achse in einem Zeitformat. Nutze lubridate::ymd_hm() um das Datum vernünftig zu formatieren.\neiner horizontalen Linie die den Kritischen Sauerstoffgehalt von 4 mg/l anzeigt.\nFärbe die Zeitreihe nach der Temperatur ein. Nutze eine geeignete Farbskala."
  },
  {
    "objectID": "exercise/E10-markdown.html",
    "href": "exercise/E10-markdown.html",
    "title": "E10: Markdown",
    "section": "",
    "text": "Zeige was du im Kurs gelernt hast. Analysiere und Visualisiere einen beliebigen (ökologischen) Datensatz und dokumentiere den Code und die Ergebnisse.\n\nErstelle dazu ein rmd oder qmd Dokument mit R Markdown oder quarto.\nNutze mindestens einen Datensatz.\nErstelle mindestens 4 Code Blöcke.\nErstelle mindestens einen Plot.\nRendere dein Dokument als pdf oder html."
  },
  {
    "objectID": "98-additional_resources.html#r-cheat-sheets",
    "href": "98-additional_resources.html#r-cheat-sheets",
    "title": "Additional Ressources",
    "section": "R cheat sheets",
    "text": "R cheat sheets\nThese are compact overview of R functions and how to use them.\nhttps://www.rstudio.com/resources/cheatsheets/\nUseful for the course are the following:\n\nBase R\nstringr\nlubridate\ndplyr\nggplot2"
  },
  {
    "objectID": "98-additional_resources.html#useful-keyboard-shortcuts",
    "href": "98-additional_resources.html#useful-keyboard-shortcuts",
    "title": "Additional Ressources",
    "section": "Useful Keyboard shortcuts",
    "text": "Useful Keyboard shortcuts\n\nCtrl + i: indent automatically\nCtrl + shift + c: comment / uncomment marked lines\nCtrl + s: save script\nCtrl + shift + m: insert pipe operator %&gt;%/|&gt;\nF1: open help page of marked function\nF2: open source code of marked function"
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Chambers, John M. 2016. Extending R. The\nR Series. Boca Raton, Fla. London New York:\nCRC Press, Taylor & Francis Group.\n\n\nChambers, John, M. 2020. “S, R, and Data\nScience.” The R Journal 12 (1): 462. https://doi.org/10.32614/RJ-2020-028.\n\n\nMeyer, Michael, David Ott, Philipp Götze, Heinz-Josef Koch, and\nChristoph Scherber. 2019. “Crop Identity and Memory Effects on\nAboveground Arthropods in a Long-Term Crop Rotation Experiment.”\nEcology and Evolution 9 (12): 7307–23. https://doi.org/10.1002/ece3.5302.\n\n\nSlater, Louise J., Guillaume Thirel, Shaun Harrigan, Olivier Delaigue,\nAlexander Hurley, Abdou Khouakhi, Ilaria Prosdocimi, Claudia Vitolo, and\nKatie Smith. 2019. “Using R in Hydrology: A Review of\nRecent Developments and Future Directions.” Hydrology and\nEarth System Sciences 23 (7): 2939–63. https://doi.org/10.5194/hess-23-2939-2019.\n\n\nTurner, W. 2014. “Sensing Biodiversity.” Science\n346 (6207): 301–2. https://doi.org/10.1126/science.1256014."
  }
]