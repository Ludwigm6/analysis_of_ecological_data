<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>13 Species data | Analysis of Ecological Data with R</title>
  <meta name="description" content="This is currently a slide collection for the ILOEK Course “Analysis of ecological data in R” but could eventually turn into a more comprehensive ressource collection." />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="13 Species data | Analysis of Ecological Data with R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is currently a slide collection for the ILOEK Course “Analysis of ecological data in R” but could eventually turn into a more comprehensive ressource collection." />
  <meta name="github-repo" content="Ludwigm6/analysis_of_ecological_data" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="13 Species data | Analysis of Ecological Data with R" />
  
  <meta name="twitter:description" content="This is currently a slide collection for the ILOEK Course “Analysis of ecological data in R” but could eventually turn into a more comprehensive ressource collection." />
  

<meta name="author" content="Marvin Ludwig" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="linear-models.html"/>
<link rel="next" href="urban-trees.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>
<link href="libs/HomeButton-0.0.1/home-button.css" rel="stylesheet" />
<script src="libs/HomeButton-0.0.1/home-button.js"></script>
<script src="libs/HomeButton-0.0.1/easy-button-src.min.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Analysis of Ecological Data</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome</a></li>
<li class="chapter" data-level="2" data-path="ecological-data.html"><a href="ecological-data.html"><i class="fa fa-check"></i><b>2</b> Ecological data</a></li>
<li class="chapter" data-level="3" data-path="what-is-r.html"><a href="what-is-r.html"><i class="fa fa-check"></i><b>3</b> What is R?</a></li>
<li class="chapter" data-level="4" data-path="the-aasee-dataset.html"><a href="the-aasee-dataset.html"><i class="fa fa-check"></i><b>4</b> The Aasee Dataset</a></li>
<li class="chapter" data-level="5" data-path="r-foundations.html"><a href="r-foundations.html"><i class="fa fa-check"></i><b>5</b> R foundations</a></li>
<li class="chapter" data-level="6" data-path="dataframes.html"><a href="dataframes.html"><i class="fa fa-check"></i><b>6</b> Dataframes</a></li>
<li class="chapter" data-level="7" data-path="project-setup.html"><a href="project-setup.html"><i class="fa fa-check"></i><b>7</b> Project Setup</a></li>
<li class="chapter" data-level="8" data-path="string-handling.html"><a href="string-handling.html"><i class="fa fa-check"></i><b>8</b> String handling</a></li>
<li class="chapter" data-level="9" data-path="casestudy-aasee-fish-mortality.html"><a href="casestudy-aasee-fish-mortality.html"><i class="fa fa-check"></i><b>9</b> Casestudy: Aasee fish mortality</a></li>
<li class="chapter" data-level="10" data-path="tidyverse-functions.html"><a href="tidyverse-functions.html"><i class="fa fa-check"></i><b>10</b> Tidyverse functions</a></li>
<li class="chapter" data-level="11" data-path="visualizations.html"><a href="visualizations.html"><i class="fa fa-check"></i><b>11</b> Visualizations</a></li>
<li class="chapter" data-level="12" data-path="linear-models.html"><a href="linear-models.html"><i class="fa fa-check"></i><b>12</b> Linear Models</a></li>
<li class="chapter" data-level="13" data-path="species-data.html"><a href="species-data.html"><i class="fa fa-check"></i><b>13</b> Species data</a></li>
<li class="chapter" data-level="14" data-path="urban-trees.html"><a href="urban-trees.html"><i class="fa fa-check"></i><b>14</b> Urban Trees</a></li>
<li class="chapter" data-level="15" data-path="additional-ressources.html"><a href="additional-ressources.html"><i class="fa fa-check"></i><b>15</b> Additional Ressources</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Made with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Analysis of Ecological Data with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="species-data" class="section level1 hasAnchor" number="13">
<h1><span class="header-section-number">13</span> Species data<a href="species-data.html#species-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Many studies in landscape ecology deal with species data. Usually, these studies follow a plot based design to compare different environments and ecosystems in terms of abundances or species diversity. To practice everything we’ve learned so far and to go on further we want to have a look at another real world dataset.
The species data below was collected by Michael Meyer. To find out more about the original goal of why this data was collected you can have a look at <span class="citation">Meyer et al. (<a href="#ref-MeyerM2019" role="doc-biblioref">2019</a>)</span>.
While the statistical analysis of this paper is more advanced and not suited for this beginner course, the structure of the data is very easy and also allows the practice of more simple methods.</p>
<table>
<caption><span id="tab:unnamed-chunk-54">Table 13.1: </span>First entries of species data by Meyer et at. 2019</caption>
<colgroup>
<col width="9%" />
<col width="9%" />
<col width="7%" />
<col width="8%" />
<col width="8%" />
<col width="9%" />
<col width="10%" />
<col width="11%" />
<col width="10%" />
<col width="11%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">plotcode</th>
<th align="left">Croptype</th>
<th align="right">AraInd</th>
<th align="right">AraSpec</th>
<th align="right">CaraInd</th>
<th align="right">CaraSpec</th>
<th align="right">IsoMyrInd</th>
<th align="right">IsoMyrSpec</th>
<th align="right">IsoDipInd</th>
<th align="right">IsoDipSpec</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">WW</td>
<td align="right">111</td>
<td align="right">17</td>
<td align="right">191</td>
<td align="right">15</td>
<td align="right">6</td>
<td align="right">2</td>
<td align="right">6</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">SM</td>
<td align="right">102</td>
<td align="right">20</td>
<td align="right">149</td>
<td align="right">14</td>
<td align="right">52</td>
<td align="right">2</td>
<td align="right">52</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">WW</td>
<td align="right">154</td>
<td align="right">19</td>
<td align="right">96</td>
<td align="right">11</td>
<td align="right">16</td>
<td align="right">4</td>
<td align="right">15</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="left">SM</td>
<td align="right">13</td>
<td align="right">8</td>
<td align="right">80</td>
<td align="right">12</td>
<td align="right">10</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">12</td>
<td align="left">ZR</td>
<td align="right">125</td>
<td align="right">14</td>
<td align="right">108</td>
<td align="right">18</td>
<td align="right">14</td>
<td align="right">4</td>
<td align="right">13</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">13</td>
<td align="left">WW</td>
<td align="right">107</td>
<td align="right">15</td>
<td align="right">178</td>
<td align="right">18</td>
<td align="right">23</td>
<td align="right">3</td>
<td align="right">23</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">16</td>
<td align="left">WW</td>
<td align="right">81</td>
<td align="right">19</td>
<td align="right">97</td>
<td align="right">12</td>
<td align="right">23</td>
<td align="right">3</td>
<td align="right">23</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">20</td>
<td align="left">WR</td>
<td align="right">132</td>
<td align="right">20</td>
<td align="right">327</td>
<td align="right">12</td>
<td align="right">8</td>
<td align="right">3</td>
<td align="right">7</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">24</td>
<td align="left">KE</td>
<td align="right">66</td>
<td align="right">12</td>
<td align="right">141</td>
<td align="right">13</td>
<td align="right">9</td>
<td align="right">2</td>
<td align="right">9</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">26</td>
<td align="left">WW</td>
<td align="right">100</td>
<td align="right">17</td>
<td align="right">136</td>
<td align="right">17</td>
<td align="right">4</td>
<td align="right">2</td>
<td align="right">4</td>
<td align="right">2</td>
</tr>
</tbody>
</table>
<p>The column names and crop types appear very cryptic at first sight. Here are some explanations:</p>
<ul>
<li><p>GP = Grain Pea</p></li>
<li><p>SB = Sugar Beet</p></li>
<li><p>SM = Silage Maize</p></li>
<li><p>WR = Winter oilseed Rape</p></li>
<li><p>WW = Winter Wheat</p></li>
<li><p>Ara = Araneae</p></li>
<li><p>Cara = Carabidae</p></li>
<li><p>IsoDip = Isopoda and Diplopoda</p></li>
<li><p>IsoMyr = Isopoda and Myriapoda</p></li>
<li><p>Ind = Number of individual animals</p></li>
<li><p>Spec = Number of species</p></li>
</ul>
<div id="task-crops-vs.-species" class="section level2 hasAnchor" number="13.1">
<h2><span class="header-section-number">13.1</span> TASK: Crops vs. Species<a href="species-data.html#task-crops-vs.-species" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><p>How many different crop types where analysed in the study?</p></li>
<li><p>How many plots are there for each crop type?</p></li>
<li><p>Which plot had the most individual animals? (regardless of species)</p></li>
<li><p>Which plot was the most diverse?</p></li>
<li><p>What is the average number of Carabidaes on all the plots containing winter wheat?</p></li>
<li><p>What is the minimum number of species per crop type?</p></li>
<li><p>Visualize the number of Carabidaes per crop type.</p></li>
<li><p>Plot the number of Araneae species in relation to the number of individual Araneae.</p></li>
<li><p>If there are more individual Araneae on a plot, are there also more Araneae species?</p></li>
</ul>
</div>
<div id="solution-1" class="section level2 hasAnchor" number="13.2">
<h2><span class="header-section-number">13.2</span> Solution<a href="species-data.html#solution-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<details>
<summary>
Click for Answer
</summary>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="species-data.html#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb132-2"><a href="species-data.html#cb132-2" aria-hidden="true" tabindex="-1"></a>bd <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/crop_species.csv&quot;</span>)</span></code></pre></div>
<div id="how-many-different-crop-types-where-analysed-in-the-study" class="section level3 hasAnchor" number="13.2.1">
<h3><span class="header-section-number">13.2.1</span> How many different crop types where analysed in the study?<a href="species-data.html#how-many-different-crop-types-where-analysed-in-the-study" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="species-data.html#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(bd<span class="sc">$</span>Croptype))</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
</div>
<div id="how-many-plots-are-there-for-each-crop-type" class="section level3 hasAnchor" number="13.2.2">
<h3><span class="header-section-number">13.2.2</span> How many plots are there for each crop type?<a href="species-data.html#how-many-plots-are-there-for-each-crop-type" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="species-data.html#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(bd<span class="sc">$</span>plotcode[bd<span class="sc">$</span>Croptype <span class="sc">==</span> <span class="st">&quot;KE&quot;</span>])</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="species-data.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(bd<span class="sc">$</span>plotcode[bd<span class="sc">$</span>Croptype <span class="sc">==</span> <span class="st">&quot;SM&quot;</span>])</span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="species-data.html#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(bd<span class="sc">$</span>plotcode[bd<span class="sc">$</span>Croptype <span class="sc">==</span> <span class="st">&quot;WR&quot;</span>])</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="species-data.html#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(bd<span class="sc">$</span>plotcode[bd<span class="sc">$</span>Croptype <span class="sc">==</span> <span class="st">&quot;WW&quot;</span>])</span></code></pre></div>
<pre><code>## [1] 33</code></pre>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="species-data.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(bd<span class="sc">$</span>plotcode[bd<span class="sc">$</span>Croptype <span class="sc">==</span> <span class="st">&quot;ZR&quot;</span>])</span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="species-data.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="co"># for all croptypes at once</span></span>
<span id="cb145-2"><a href="species-data.html#cb145-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-3"><a href="species-data.html#cb145-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(bd<span class="sc">$</span>Croptype)</span></code></pre></div>
<pre><code>## 
## KE SM WR WW ZR 
##  3  9  6 33  9</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="species-data.html#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="co"># dplyr</span></span>
<span id="cb147-2"><a href="species-data.html#cb147-2" aria-hidden="true" tabindex="-1"></a>bd <span class="sc">%&gt;%</span> <span class="fu">count</span>(Croptype)</span></code></pre></div>
<pre><code>##   Croptype  n
## 1       KE  3
## 2       SM  9
## 3       WR  6
## 4       WW 33
## 5       ZR  9</code></pre>
</div>
<div id="which-plot-had-the-most-individual-animals-regardless-of-species" class="section level3 hasAnchor" number="13.2.3">
<h3><span class="header-section-number">13.2.3</span> Which plot had the most individual animals? (regardless of species)<a href="species-data.html#which-plot-had-the-most-individual-animals-regardless-of-species" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="species-data.html#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate the total individuals for each plot</span></span>
<span id="cb149-2"><a href="species-data.html#cb149-2" aria-hidden="true" tabindex="-1"></a>bd<span class="sc">$</span>TotalInd <span class="ot">=</span> bd<span class="sc">$</span>AraInd <span class="sc">+</span> bd<span class="sc">$</span>CaraInd <span class="sc">+</span> bd<span class="sc">$</span>IsoMyrInd</span>
<span id="cb149-3"><a href="species-data.html#cb149-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-4"><a href="species-data.html#cb149-4" aria-hidden="true" tabindex="-1"></a><span class="co"># find out on which plotcode the total number is the maximum total number</span></span>
<span id="cb149-5"><a href="species-data.html#cb149-5" aria-hidden="true" tabindex="-1"></a>bd<span class="sc">$</span>plotcode[bd<span class="sc">$</span>TotalInd <span class="sc">==</span> <span class="fu">max</span>(bd<span class="sc">$</span>TotalInd)]</span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="species-data.html#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="co"># dplyr pipeline</span></span>
<span id="cb151-2"><a href="species-data.html#cb151-2" aria-hidden="true" tabindex="-1"></a>bd <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">TotalInd =</span> AraInd <span class="sc">+</span> CaraInd <span class="sc">+</span> IsoMyrInd) <span class="sc">%&gt;%</span> </span>
<span id="cb151-3"><a href="species-data.html#cb151-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(TotalInd <span class="sc">==</span> <span class="fu">max</span>(TotalInd)) <span class="sc">%&gt;%</span></span>
<span id="cb151-4"><a href="species-data.html#cb151-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(plotcode)</span></code></pre></div>
<pre><code>##   plotcode
## 1       30</code></pre>
</div>
<div id="which-plot-was-the-most-diverse" class="section level3 hasAnchor" number="13.2.4">
<h3><span class="header-section-number">13.2.4</span> Which plot was the most diverse?<a href="species-data.html#which-plot-was-the-most-diverse" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="species-data.html#cb153-1" aria-hidden="true" tabindex="-1"></a>bd<span class="sc">$</span>TotalSpec <span class="ot">=</span> bd<span class="sc">$</span>AraSpec <span class="sc">+</span> bd<span class="sc">$</span>CaraSpec <span class="sc">+</span> bd<span class="sc">$</span>IsoMyrSpec</span>
<span id="cb153-2"><a href="species-data.html#cb153-2" aria-hidden="true" tabindex="-1"></a>bd<span class="sc">$</span>plotcode[bd<span class="sc">$</span>TotalSpec <span class="sc">==</span> <span class="fu">max</span>(bd<span class="sc">$</span>TotalSpec)]</span></code></pre></div>
<pre><code>## [1] 98</code></pre>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="species-data.html#cb155-1" aria-hidden="true" tabindex="-1"></a>bd <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">TotalSpec =</span> AraSpec <span class="sc">+</span> CaraSpec <span class="sc">+</span> IsoMyrSpec) <span class="sc">%&gt;%</span> </span>
<span id="cb155-2"><a href="species-data.html#cb155-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(TotalSpec <span class="sc">==</span> <span class="fu">max</span>(TotalSpec)) <span class="sc">%&gt;%</span> </span>
<span id="cb155-3"><a href="species-data.html#cb155-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(plotcode, TotalSpec)</span></code></pre></div>
<pre><code>##   plotcode TotalSpec
## 1       98        41</code></pre>
</div>
<div id="what-is-the-average-number-of-carabidaes-on-all-the-plots-containing-winter-wheat" class="section level3 hasAnchor" number="13.2.5">
<h3><span class="header-section-number">13.2.5</span> What is the average number of Carabidaes on all the plots containing winter wheat?<a href="species-data.html#what-is-the-average-number-of-carabidaes-on-all-the-plots-containing-winter-wheat" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="species-data.html#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(bd<span class="sc">$</span>CaraInd[bd<span class="sc">$</span>Croptype <span class="sc">==</span> <span class="st">&quot;WW&quot;</span>])</span></code></pre></div>
<pre><code>## [1] 119.697</code></pre>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="species-data.html#cb159-1" aria-hidden="true" tabindex="-1"></a>bd <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Croptype <span class="sc">==</span> <span class="st">&quot;WW&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb159-2"><a href="species-data.html#cb159-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">MeanCara =</span> <span class="fu">mean</span>(CaraInd))</span></code></pre></div>
<pre><code>##   MeanCara
## 1  119.697</code></pre>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="species-data.html#cb161-1" aria-hidden="true" tabindex="-1"></a>bd <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Croptype <span class="sc">==</span> <span class="st">&quot;WW&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb161-2"><a href="species-data.html#cb161-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(CaraInd) <span class="sc">%&gt;%</span> </span>
<span id="cb161-3"><a href="species-data.html#cb161-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mean</span>()</span></code></pre></div>
<pre><code>## [1] 119.697</code></pre>
</div>
<div id="what-is-the-minimum-number-of-species-per-crop-type" class="section level3 hasAnchor" number="13.2.6">
<h3><span class="header-section-number">13.2.6</span> What is the minimum number of species per crop type?<a href="species-data.html#what-is-the-minimum-number-of-species-per-crop-type" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="species-data.html#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="co"># for one crop type</span></span>
<span id="cb163-2"><a href="species-data.html#cb163-2" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(bd<span class="sc">$</span>TotalSpec[bd<span class="sc">$</span>Croptype <span class="sc">==</span> <span class="st">&quot;WW&quot;</span>])</span></code></pre></div>
<pre><code>## [1] 26</code></pre>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="species-data.html#cb165-1" aria-hidden="true" tabindex="-1"></a>bd <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Croptype) <span class="sc">%&gt;%</span> </span>
<span id="cb165-2"><a href="species-data.html#cb165-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">MinSpec =</span> <span class="fu">min</span>(TotalSpec))</span></code></pre></div>
<pre><code>## # A tibble: 5 × 2
##   Croptype MinSpec
##   &lt;chr&gt;      &lt;int&gt;
## 1 KE            27
## 2 SM            21
## 3 WR            24
## 4 WW            26
## 5 ZR            23</code></pre>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="species-data.html#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="co"># if we didn&#39;t compute total species before:</span></span>
<span id="cb167-2"><a href="species-data.html#cb167-2" aria-hidden="true" tabindex="-1"></a>bd <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Croptype) <span class="sc">%&gt;%</span> </span>
<span id="cb167-3"><a href="species-data.html#cb167-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">TotalSpec =</span> AraSpec <span class="sc">+</span> CaraSpec <span class="sc">+</span> IsoMyrSpec) <span class="sc">%&gt;%</span> </span>
<span id="cb167-4"><a href="species-data.html#cb167-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">MinSpec =</span> <span class="fu">min</span>(TotalSpec))</span></code></pre></div>
<pre><code>## # A tibble: 5 × 2
##   Croptype MinSpec
##   &lt;chr&gt;      &lt;int&gt;
## 1 KE            27
## 2 SM            21
## 3 WR            24
## 4 WW            26
## 5 ZR            23</code></pre>
</div>
<div id="visualize-carabidaes-abunadances-per-crop-type." class="section level3 hasAnchor" number="13.2.7">
<h3><span class="header-section-number">13.2.7</span> Visualize Carabidaes abunadances per crop type.<a href="species-data.html#visualize-carabidaes-abunadances-per-crop-type." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="species-data.html#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(bd<span class="sc">$</span>CaraInd <span class="sc">~</span> bd<span class="sc">$</span>Croptype)</span></code></pre></div>
<p><img src="ecoanalysis_files/figure-html/unnamed-chunk-62-1.png" width="672" /></p>
</div>
<div id="plot-the-number-of-araneae-species-in-relation-to-the-number-of-individual-araneae." class="section level3 hasAnchor" number="13.2.8">
<h3><span class="header-section-number">13.2.8</span> Plot the number of Araneae species in relation to the number of individual Araneae.<a href="species-data.html#plot-the-number-of-araneae-species-in-relation-to-the-number-of-individual-araneae." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="species-data.html#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(bd<span class="sc">$</span>AraInd, bd<span class="sc">$</span>AraSpec)</span></code></pre></div>
<p><img src="ecoanalysis_files/figure-html/unnamed-chunk-63-1.png" width="672" /></p>
</div>
<div id="if-there-are-more-individual-araneae-on-a-plot-are-there-also-more-araneae-species" class="section level3 hasAnchor" number="13.2.9">
<h3><span class="header-section-number">13.2.9</span> If there are more individual Araneae on a plot, are there also more Araneae species?<a href="species-data.html#if-there-are-more-individual-araneae-on-a-plot-are-there-also-more-araneae-species" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="species-data.html#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="co"># build a linear model</span></span>
<span id="cb171-2"><a href="species-data.html#cb171-2" aria-hidden="true" tabindex="-1"></a>ara_model <span class="ot">=</span> <span class="fu">lm</span>(bd<span class="sc">$</span>AraSpec <span class="sc">~</span> bd<span class="sc">$</span>AraInd)</span>
<span id="cb171-3"><a href="species-data.html#cb171-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ara_model)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = bd$AraSpec ~ bd$AraInd)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -4.6170 -1.4779 -0.2867  1.3864  7.2698 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  9.95648    1.18793   8.381 1.41e-11 ***
## bd$AraInd    0.04977    0.01084   4.593 2.40e-05 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 2.443 on 58 degrees of freedom
## Multiple R-squared:  0.2667, Adjusted R-squared:  0.2541 
## F-statistic: 21.09 on 1 and 58 DF,  p-value: 2.401e-05</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="species-data.html#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(AraSpec <span class="sc">~</span> AraInd, <span class="at">data =</span> bd)</span>
<span id="cb173-2"><a href="species-data.html#cb173-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(ara_model)</span></code></pre></div>
<p><img src="ecoanalysis_files/figure-html/unnamed-chunk-64-1.png" width="672" /></p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="species-data.html#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(AraSpec <span class="sc">~</span> AraInd, <span class="at">data =</span> bd, <span class="at">asp =</span> <span class="dv">1</span>)</span>
<span id="cb174-2"><a href="species-data.html#cb174-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(ara_model)</span></code></pre></div>
<p><img src="ecoanalysis_files/figure-html/unnamed-chunk-64-2.png" width="672" /></p>
</details>

</div>
</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-MeyerM2019" class="csl-entry">
Meyer, Michael, David Ott, Philipp Götze, Heinz-Josef Koch, and Christoph Scherber. 2019. <span>“Crop Identity and Memory Effects on Aboveground Arthropods in a Long-Term Crop Rotation Experiment.”</span> <em>Ecology and Evolution</em> 9 (12): 7307–23. <a href="https://doi.org/10.1002/ece3.5302">https://doi.org/10.1002/ece3.5302</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="linear-models.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="urban-trees.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/12-species.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["ecoanalysis.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
